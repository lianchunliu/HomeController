###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         07/Oct/2017  16:57:58 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\Source\GenericApp.c                      #
#    Command line       =  -f C:\workspace\ZStack-UART\Projects\zstack\Sample #
#                          s\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wC #
#                          oord.cfg (-DCPU32MHZ -DROOT=__near_func            #
#                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                   #
#                          -DZDO_COORDINATOR -DRTR_NWK -DNV_RESTORE           #
#                          -DBLINK_LEDS) -f C:\workspace\ZStack-UART\Projects #
#                          \zstack\Samples\GenericApp\CC2530DB\..\..\..\Tools #
#                          \CC2530DB\f8wConfig.cfg (-DSECURE=0                #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00004000                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116 "-DCONST=const __code"    #
#                          -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE     #
#                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100            #
#                          -DRESPONSE_POLL_RATE=100) -DREJOIN_POLL_RATE=440   #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\Source\GenericApp.c -D ZIGBEEPRO -D      #
#                          NV_RESTORE -D ZTOOL_P1 -D xMT_TASK -D              #
#                          xMT_SYS_FUNC -D xMT_ZDO_FUNC -D                    #
#                          LCD_SUPPORTED=DEBUG -lC C:\workspace\ZStack-UART\P #
#                          rojects\zstack\Samples\GenericApp\CC2530DB\Coordin #
#                          atorEB-Pro\List\ -lA C:\workspace\ZStack-UART\Proj #
#                          ects\zstack\Samples\GenericApp\CC2530DB\Coordinato #
#                          rEB-Pro\List\ --diag_suppress Pe001,Pa010 -o       #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\CoordinatorEB-Pro\Obj\ -e       #
#                          --debug --core=plain --dptr=16,1                   #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I C:\workspace\ZStack-UART\Projects\zstack\Sample #
#                          s\GenericApp\CC2530DB\ -I                          #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\SOURCE\ -I                   #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\..\..\ZMAIN\TI2530DB\ -I     #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\..\..\..\..\COMPONENTS\MT\   #
#                          -I C:\workspace\ZStack-UART\Projects\zstack\Sample #
#                          s\GenericApp\CC2530DB\..\..\..\..\..\COMPONENTS\HA #
#                          L\INCLUDE\ -I C:\workspace\ZStack-UART\Projects\zs #
#                          tack\Samples\GenericApp\CC2530DB\..\..\..\..\..\CO #
#                          MPONENTS\HAL\TARGET\CC2530EB\ -I                   #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\ #
#                          MCU\CCSOC\ -I C:\workspace\ZStack-UART\Projects\zs #
#                          tack\Samples\GenericApp\CC2530DB\..\..\..\..\..\CO #
#                          MPONENTS\OSAL\INCLUDE\ -I                          #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\..\..\..\..\COMPONENTS\STACK #
#                          \AF\ -I C:\workspace\ZStack-UART\Projects\zstack\S #
#                          amples\GenericApp\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\STACK\NWK\ -I C:\workspace\ZStack-UART\Projects #
#                          \zstack\Samples\GenericApp\CC2530DB\..\..\..\..\.. #
#                          \COMPONENTS\STACK\SEC\ -I                          #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\..\..\..\..\COMPONENTS\STACK #
#                          \SAPI\ -I C:\workspace\ZStack-UART\Projects\zstack #
#                          \Samples\GenericApp\CC2530DB\..\..\..\..\..\COMPON #
#                          ENTS\STACK\SYS\ -I C:\workspace\ZStack-UART\Projec #
#                          ts\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\ #
#                          ..\COMPONENTS\STACK\ZDO\ -I                        #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\..\..\..\..\COMPONENTS\ZMAC\ #
#                          F8W\ -I C:\workspace\ZStack-UART\Projects\zstack\S #
#                          amples\GenericApp\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\ZMAC\ -I C:\workspace\ZStack-UART\Projects\zsta #
#                          ck\Samples\GenericApp\CC2530DB\..\..\..\..\..\COMP #
#                          ONENTS\SERVICES\SADDR\ -I                          #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\..\..\..\..\COMPONENTS\SERVI #
#                          CES\SDATA\ -I C:\workspace\ZStack-UART\Projects\zs #
#                          tack\Samples\GenericApp\CC2530DB\..\..\..\..\..\CO #
#                          MPONENTS\MAC\INCLUDE\ -I                           #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\H #
#                          IGH_LEVEL\ -I C:\workspace\ZStack-UART\Projects\zs #
#                          tack\Samples\GenericApp\CC2530DB\..\..\..\..\..\CO #
#                          MPONENTS\MAC\LOW_LEVEL\srf04\ -I                   #
#                          C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\L #
#                          OW_LEVEL\srf04\SINGLE_CHIP\ -Ohz                   #
#                          --require_prototypes                               #
#    List file          =  C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\CoordinatorEB-Pro\List\GenericA #
#                          pp.lst                                             #
#    Object file        =  C:\workspace\ZStack-UART\Projects\zstack\Samples\G #
#                          enericApp\CC2530DB\CoordinatorEB-Pro\Obj\GenericAp #
#                          p.r51                                              #
#                                                                             #
#                                                                             #
###############################################################################

C:\workspace\ZStack-UART\Projects\zstack\Samples\GenericApp\Source\GenericApp.c
      1          /**************************************************************************************************
      2            Filename:       GenericApp.c
      3            Revised:        $Date: 2009-03-18 15:56:27 -0700 (Wed, 18 Mar 2009) $
      4            Revision:       $Revision: 19453 $
      5          
      6            Description:    Generic Application (no Profile).
      7          
      8          
      9            Copyright 2004-2009 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED “AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, 
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, 
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com. 
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41            This application isn't intended to do anything useful, it is
     42            intended to be a simple example of an application's structure.
     43          
     44            This application sends "Hello World" to another "Generic"
     45            application every 15 seconds.  The application will also
     46            receive "Hello World" packets.
     47          
     48            The "Hello World" messages are sent/received as MSG type message.
     49          
     50            This applications doesn't have a profile, so it handles everything
     51            directly - itself.
     52          
     53            Key control:
     54              SW1:
     55              SW2:  initiates end device binding
     56              SW3:
     57              SW4:  initiates a match description request
     58          *********************************************************************/
     59          
     60          /*********************************************************************
     61           * INCLUDES
     62           */
     63          #include "OSAL.h"
     64          #include "AF.h"
     65          #include "ZDApp.h"
     66          #include "ZDObject.h"
     67          #include "ZDProfile.h"
     68          
     69          #include "GenericApp.h"
     70          #include "DebugTrace.h"
     71          
     72          #include "user_printf.h"
     73          
     74          #if !defined( WIN32 )
     75            #include "OnBoard.h"
     76          #endif
     77          
     78          /* HAL */
     79          #include "hal_lcd.h"
     80          #include "hal_led.h"
     81          #include "hal_key.h"
     82          #include "hal_uart.h"
     83          #include "OSAL_Nv.h"
     84          
     85          /*********************************************************************
     86           * MACROS
     87           */
     88          #define HAL_LED_OFF   1
     89          #define HAL_LED_ON    0
     90          
     91          
     92          #define DATA_INPUT P0_6
     93          

   \                                 In  segment XDATA_I, align 1, keep-with-next
     94          static uint16 lightShortAddr=0x046A;
   \                     lightShortAddr:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for lightShortAddr>`
   \   000002                REQUIRE __INIT_XDATA_I
     95          
     96          // This is the max byte count per OTA message.
     97          #if !defined( SERIAL_APP_TX_MAX )
     98          #define SERIAL_APP_TX_MAX  80
     99          #endif
    100          
    101          /*********************************************************************
    102           * CONSTANTS
    103           */
    104          
    105          /*********************************************************************
    106           * TYPEDEFS
    107           */
    108          
    109          /*********************************************************************
    110           * GLOBAL VARIABLES
    111           */
    112          
    113          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    114          static uint16 lightOffTimeValue = 0;
   \                     lightOffTimeValue:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    115          static uint16 currentTime = 0;
   \                     currentTime:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    116          static uint8 isLightController = 0;
   \                     isLightController:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    117          
    118          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
    119          const cId_t GenericApp_ClusterList[GENERICAPP_MAX_CLUSTERS] =
   \                     GenericApp_ClusterList:
   \   000000   0100         DW 1
    120          {
    121            GENERICAPP_CLUSTERID
    122          };
    123          

   \                                 In  segment XDATA_ROM_C, align 1
    124          const SimpleDescriptionFormat_t GenericApp_SimpleDesc =
   \                     GenericApp_SimpleDesc:
   \   000000   0A           DB 10
   \   000001   040F         DW 3844
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   01           DB 1
   \   000007   ....         DW GenericApp_ClusterList
   \   000009   01           DB 1
   \   00000A   ....         DW GenericApp_ClusterList
    125          {
    126            GENERICAPP_ENDPOINT,              //  int Endpoint;
    127            GENERICAPP_PROFID,                //  uint16 AppProfId[2];
    128            GENERICAPP_DEVICEID,              //  uint16 AppDeviceId[2];
    129            GENERICAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
    130            GENERICAPP_FLAGS,                 //  int   AppFlags:4;
    131            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
    132            (cId_t *)GenericApp_ClusterList,  //  byte *pAppInClusterList;
    133            GENERICAPP_MAX_CLUSTERS,          //  byte  AppNumInClusters;
    134            (cId_t *)GenericApp_ClusterList   //  byte *pAppInClusterList;
    135          };
    136          
    137          // This is the Endpoint/Interface description.  It is defined here, but
    138          // filled-in in GenericApp_Init().  Another way to go would be to fill
    139          // in the structure here and make it a "const" (in code space).  The
    140          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    141          endPointDesc_t GenericApp_epDesc;
   \                     GenericApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    142          
    143          /*********************************************************************
    144           * EXTERNAL VARIABLES
    145           */
    146          
    147          /*********************************************************************
    148           * EXTERNAL FUNCTIONS
    149           */
    150          
    151          /*********************************************************************
    152           * LOCAL VARIABLES
    153           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    154          byte GenericApp_TaskID;   // Task ID for internal task/event processing
   \                     GenericApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    155                                    // This variable will be received when
    156                                    // GenericApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    157          devStates_t GenericApp_NwkState;
   \                     GenericApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    158          
    159          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    160          byte GenericApp_TransID;  // This is the unique message ID (counter)
   \                     GenericApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    161          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    162          afAddrType_t GenericApp_DstAddr;
   \                     GenericApp_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    163          byte RxBuf[SERIAL_APP_TX_MAX+1];
   \                     RxBuf:
   \   000000                DS 81
   \   000051                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    164          static uint8 SerialApp_TxLen;
   \                     SerialApp_TxLen:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    165          
    166          /*********************************************************************
    167           * LOCAL FUNCTIONS
    168           */
    169          void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg );
    170          void GenericApp_HandleKeys( byte shift, byte keys );
    171          void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    172          void GenericApp_SendTheMessage( void );
    173          void rxCB(uint8 port,uint8 event);
    174          static uint16 strToUint16(uint8* str);
    175          static void processLightToggle(afIncomingMSGPacket_t *inMsg);
    176          static void sendSendCmdMsg(uint8* cmd);
    177          
    178          /*********************************************************************
    179           * NETWORK LAYER CALLBACKS
    180           */
    181          
    182          /*********************************************************************
    183           * PUBLIC FUNCTIONS
    184           */
    185          
    186          /*********************************************************************
    187           * @fn      GenericApp_Init
    188           *
    189           * @brief   Initialization function for the Generic App Task.
    190           *          This is called during initialization and should contain
    191           *          any application specific initialization (ie. hardware
    192           *          initialization/setup, table initialization, power up
    193           *          notificaiton ... ).
    194           *
    195           * @param   task_id - the ID assigned by OSAL.  This ID should be
    196           *                    used to send messages and set timers.
    197           *
    198           * @return  none
    199           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    200          void GenericApp_Init( byte task_id )
   \                     GenericApp_Init:
    201          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 29
   \   000005   74E3         MOV     A,#-0x1d
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    202            halUARTCfg_t uartConfig;
    203            
    204            GenericApp_TaskID = task_id;
   \   00000A   E9           MOV     A,R1
   \   00000B   90....       MOV     DPTR,#GenericApp_TaskID
   \   00000E   F0           MOVX    @DPTR,A
    205            GenericApp_NwkState = DEV_INIT;
   \   00000F   90....       MOV     DPTR,#GenericApp_NwkState
   \   000012   7401         MOV     A,#0x1
   \   000014   F0           MOVX    @DPTR,A
    206            GenericApp_TransID = 0;
   \   000015   90....       MOV     DPTR,#GenericApp_TransID
   \   000018   E4           CLR     A
   \   000019   F0           MOVX    @DPTR,A
    207          
    208            // Device hardware initialization can be added here or in main() (Zmain.c).
    209            // If the hardware is application specific - add it here.
    210            // If the hardware is other parts of the device add it in main().
    211          
    212            GenericApp_DstAddr.addrMode = (afAddrMode_t)AddrNotPresent;
   \   00001A   90....       MOV     DPTR,#GenericApp_DstAddr + 8
   \   00001D   F0           MOVX    @DPTR,A
    213            GenericApp_DstAddr.endPoint = 0;
   \   00001E   A3           INC     DPTR
   \   00001F   F0           MOVX    @DPTR,A
    214            GenericApp_DstAddr.addr.shortAddr = 0;
   \   000020   90....       MOV     DPTR,#GenericApp_DstAddr
   \   000023   F0           MOVX    @DPTR,A
   \   000024   A3           INC     DPTR
   \   000025   F0           MOVX    @DPTR,A
    215          
    216            // Fill out the endpoint description.
    217            GenericApp_epDesc.endPoint = GENERICAPP_ENDPOINT;
   \   000026   90....       MOV     DPTR,#GenericApp_epDesc
   \   000029   740A         MOV     A,#0xa
   \   00002B   F0           MOVX    @DPTR,A
    218            GenericApp_epDesc.task_id = &GenericApp_TaskID;
   \   00002C   A3           INC     DPTR
   \   00002D   74..         MOV     A,#GenericApp_TaskID & 0xff
   \   00002F   F0           MOVX    @DPTR,A
   \   000030   A3           INC     DPTR
   \   000031   74..         MOV     A,#(GenericApp_TaskID >> 8) & 0xff
   \   000033   F0           MOVX    @DPTR,A
    219            GenericApp_epDesc.simpleDesc
    220                      = (SimpleDescriptionFormat_t *)&GenericApp_SimpleDesc;
   \   000034   A3           INC     DPTR
   \   000035   74..         MOV     A,#GenericApp_SimpleDesc & 0xff
   \   000037   F0           MOVX    @DPTR,A
   \   000038   A3           INC     DPTR
   \   000039   74..         MOV     A,#(GenericApp_SimpleDesc >> 8) & 0xff
   \   00003B   F0           MOVX    @DPTR,A
    221            GenericApp_epDesc.latencyReq = noLatencyReqs;
   \   00003C   A3           INC     DPTR
   \   00003D   E4           CLR     A
   \   00003E   F0           MOVX    @DPTR,A
    222          
    223            // Register the endpoint description with the AF
    224            afRegister( &GenericApp_epDesc );
   \   00003F                ; Setup parameters for call to function afRegister
   \   00003F   7A..         MOV     R2,#GenericApp_epDesc & 0xff
   \   000041   7B..         MOV     R3,#(GenericApp_epDesc >> 8) & 0xff
   \   000043   12....       LCALL   ??afRegister?relay
    225          
    226            // Register for all key events - This app will handle all key events
    227            RegisterForKeys( GenericApp_TaskID );
   \   000046                ; Setup parameters for call to function RegisterForKeys
   \   000046   90....       MOV     DPTR,#GenericApp_TaskID
   \   000049   E0           MOVX    A,@DPTR
   \   00004A   F9           MOV     R1,A
   \   00004B   12....       LCALL   ??RegisterForKeys?relay
    228            
    229            uartConfig.configured           = TRUE;              // 2x30 don't care - see uart driver.
   \   00004E   85..82       MOV     DPL,?XSP + 0
   \   000051   85..83       MOV     DPH,?XSP + 1
   \   000054   7401         MOV     A,#0x1
   \   000056   F0           MOVX    @DPTR,A
    230            uartConfig.baudRate             = HAL_UART_BR_115200;
   \   000057   12....       LCALL   ?XSTACK_DISP0_8
   \   00005A   7404         MOV     A,#0x4
   \   00005C   F0           MOVX    @DPTR,A
    231            uartConfig.flowControl          = FALSE;
   \   00005D   7402         MOV     A,#0x2
   \   00005F   12....       LCALL   ?XSTACK_DISP0_8
   \   000062   E4           CLR     A
   \   000063   F0           MOVX    @DPTR,A
    232            uartConfig.flowControlThreshold = 64;   // 2x30 don't care - see uart driver.
   \   000064   7403         MOV     A,#0x3
   \   000066   12....       LCALL   ?XSTACK_DISP0_8
   \   000069   7440         MOV     A,#0x40
   \   00006B   F0           MOVX    @DPTR,A
   \   00006C   A3           INC     DPTR
   \   00006D   E4           CLR     A
   \   00006E   F0           MOVX    @DPTR,A
    233            uartConfig.rx.maxBufSize        = 128;  // 2x30 don't care - see uart driver.
   \   00006F   740A         MOV     A,#0xa
   \   000071   12....       LCALL   ?XSTACK_DISP0_8
   \   000074   7480         MOV     A,#-0x80
   \   000076   F0           MOVX    @DPTR,A
   \   000077   A3           INC     DPTR
   \   000078   E4           CLR     A
   \   000079   F0           MOVX    @DPTR,A
    234            uartConfig.tx.maxBufSize        = 128;  // 2x30 don't care - see uart driver.
   \   00007A   7412         MOV     A,#0x12
   \   00007C   12....       LCALL   ?XSTACK_DISP0_8
   \   00007F   7480         MOV     A,#-0x80
   \   000081   F0           MOVX    @DPTR,A
   \   000082   A3           INC     DPTR
   \   000083   E4           CLR     A
   \   000084   F0           MOVX    @DPTR,A
    235            uartConfig.idleTimeout          = 6;    // 2x30 don't care - see uart driver.
   \   000085   7405         MOV     A,#0x5
   \   000087   12....       LCALL   ?XSTACK_DISP0_8
   \   00008A   7406         MOV     A,#0x6
   \   00008C   F0           MOVX    @DPTR,A
    236            uartConfig.intEnable            = TRUE; // 2x30 don't care - see uart driver.
   \   00008D   7416         MOV     A,#0x16
   \   00008F   12....       LCALL   ?XSTACK_DISP0_8
   \   000092   7401         MOV     A,#0x1
   \   000094   F0           MOVX    @DPTR,A
    237            uartConfig.callBackFunc         = rxCB;
   \   000095   741B         MOV     A,#0x1b
   \   000097   12....       LCALL   ?XSTACK_DISP0_8
   \   00009A   74..         MOV     A,#??rxCB?relay & 0xff
   \   00009C   F0           MOVX    @DPTR,A
   \   00009D   A3           INC     DPTR
   \   00009E   74..         MOV     A,#(??rxCB?relay >> 8) & 0xff
   \   0000A0   12....       LCALL   ?Subroutine6 & 0xFFFF
    238            HalUARTOpen (0, &uartConfig); 
   \                     ??CrossCallReturnLabel_9:
   \   0000A3   AA82         MOV     R2,DPL
   \   0000A5   AB83         MOV     R3,DPH
   \   0000A7   7900         MOV     R1,#0x0
   \   0000A9   12....       LCALL   ??HalUARTOpen?relay
    239            
    240            
    241            // Update the display
    242          #if defined ( LCD_SUPPORTED )
    243              HalLcdWriteString( "GenericApp", HAL_LCD_LINE_1 );
   \   0000AC                ; Setup parameters for call to function HalLcdWriteString
   \   0000AC   7901         MOV     R1,#0x1
   \   0000AE   7A..         MOV     R2,#`?<Constant "GenericApp">` & 0xff
   \   0000B0   7B..         MOV     R3,#(`?<Constant "GenericApp">` >> 8) & 0xff
   \   0000B2   12....       LCALL   ??HalLcdWriteString?relay
    244          #endif
    245              
    246            //ZDO_RegisterForZDOMsg( GenericApp_TaskID, End_Device_Bind_rsp );
    247            //ZDO_RegisterForZDOMsg( GenericApp_TaskID, Match_Desc_rsp );
    248              
    249              
    250            HalLedSet( HAL_LED_1, HAL_LED_MODE_ON );
   \   0000B5                ; Setup parameters for call to function HalLedSet
   \   0000B5   7A01         MOV     R2,#0x1
   \   0000B7   7901         MOV     R1,#0x1
   \   0000B9   12....       LCALL   ??HalLedSet?relay
    251            
    252            if (strStartWith((uint8*)getMyName(), "DoorSensor")) {
   \   0000BC                ; Setup parameters for call to function strStartWith
   \   0000BC                ; Setup parameters for call to function getMyName
   \   0000BC   12....       LCALL   ??getMyName?relay
   \   0000BF   7C..         MOV     R4,#`?<Constant "DoorSensor">` & 0xff
   \   0000C1   7D..         MOV     R5,#(`?<Constant "DoorSensor">` >> 8) & 0xff
   \   0000C3   12....       LCALL   ??Subroutine27_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   0000C6   6010         JZ      ??GenericApp_Init_0
    253              isLightController = 0;
   \   0000C8   90....       MOV     DPTR,#isLightController
   \   0000CB   E4           CLR     A
   \   0000CC   F0           MOVX    @DPTR,A
    254              lightShortAddr=0x046A;
   \   0000CD   90....       MOV     DPTR,#lightShortAddr
   \   0000D0   746A         MOV     A,#0x6a
   \   0000D2   F0           MOVX    @DPTR,A
   \   0000D3   A3           INC     DPTR
   \   0000D4   7404         MOV     A,#0x4
   \   0000D6   801E         SJMP    ??GenericApp_Init_1
    255            } else if (strStartWith((uint8*)getMyName(), "RestroomSensor")) {
   \                     ??GenericApp_Init_0:
   \   0000D8                ; Setup parameters for call to function strStartWith
   \   0000D8                ; Setup parameters for call to function getMyName
   \   0000D8   12....       LCALL   ??getMyName?relay
   \   0000DB   7C..         MOV     R4,#`?<Constant "RestroomSensor">` & 0xff
   \   0000DD   7D..         MOV     R5,#(`?<Constant "RestroomSensor">` >> 8) & 0xff
   \   0000DF   12....       LCALL   ??Subroutine27_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_79:
   \   0000E2   90....       MOV     DPTR,#isLightController
   \   0000E5   600D         JZ      ??GenericApp_Init_2
    256              isLightController = 0;
   \   0000E7   E4           CLR     A
   \   0000E8   F0           MOVX    @DPTR,A
    257              lightShortAddr=0x2DC0;
   \   0000E9   90....       MOV     DPTR,#lightShortAddr
   \   0000EC   74C0         MOV     A,#-0x40
   \   0000EE   F0           MOVX    @DPTR,A
   \   0000EF   A3           INC     DPTR
   \   0000F0   742D         MOV     A,#0x2d
   \   0000F2   8002         SJMP    ??GenericApp_Init_1
    258            } else {
    259              isLightController = 1;
   \                     ??GenericApp_Init_2:
   \   0000F4   7401         MOV     A,#0x1
   \                     ??GenericApp_Init_1:
   \   0000F6   F0           MOVX    @DPTR,A
    260            }
    261            
    262            printf("GenericApp_Init[%s] Done!\n", getMyName());
   \   0000F7                ; Setup parameters for call to function printf
   \   0000F7                ; Setup parameters for call to function getMyName
   \   0000F7   12....       LCALL   ??getMyName?relay
   \   0000FA   8A..         MOV     ?V0 + 2,R2
   \   0000FC   8B..         MOV     ?V0 + 3,R3
   \   0000FE   78..         MOV     R0,#?V0 + 2
   \   000100   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000103   7A..         MOV     R2,#`?<Constant "GenericApp_Init[%s] D...">` & 0xff
   \   000105   7B..         MOV     R3,#(`?<Constant "GenericApp_Init[%s] D...">` >> 8) & 0xff
   \   000107   12....       LCALL   ??Subroutine21_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   00010A   12....       LCALL   ?DEALLOC_XSTACK8
    263            
    264          }
   \   00010D   741D         MOV     A,#0x1d
   \   00010F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000112   7F04         MOV     R7,#0x4
   \   000114   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine21_0:
   \   000000   12....       LCALL   ??printf?relay
   \   000003   7402         MOV     A,#0x2
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine27_0:
   \   000000   12....       LCALL   ??strStartWith?relay
   \   000003   E9           MOV     A,R1
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function HalUARTOpen
   \   000001                ; Setup parameters for call to function printf
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   22           RET
    265          
    266          static void resetCurrentTime(void);
    267          
    268          void resetCurrentTime(void)
    269          {
    270            currentTime = 0;
    271            lightOffTimeValue = 0;
    272          }
    273          /*********************************************************************
    274           * @fn      GenericApp_ProcessEvent
    275           *
    276           * @brief   Generic Application Task event processor.  This function
    277           *          is called to process all events for the task.  Events
    278           *          include timers, messages and any other user defined events.
    279           *
    280           * @param   task_id  - The OSAL assigned task ID.
    281           * @param   events - events to process.  This is a bit map and can
    282           *                   contain more than one event.
    283           *
    284           * @return  none
    285           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    286          UINT16 GenericApp_ProcessEvent( byte task_id, UINT16 events )
   \                     GenericApp_ProcessEvent:
    287          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    288            afIncomingMSGPacket_t *MSGpkt;
    289            afDataConfirm_t *afDataConfirm;
    290          
    291            // Data Confirmation message fields
    292            byte sentEP;
    293            ZStatus_t sentStatus;
    294            byte sentTransID;       // This should match the value sent
    295            (void)task_id;  // Intentionally unreferenced parameter
    296          
    297            if ( events & SYS_EVENT_MSG )
   \   000009   5480         ANL     A,#0x80
   \   00000B   7003         JNZ     $+5
   \   00000D   02....       LJMP    ??GenericApp_ProcessEvent_0 & 0xFFFF
    298            {
    299              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   000010                ; Setup parameters for call to function osal_msg_receive
   \   000010   804F         SJMP    ??GenericApp_ProcessEvent_1
    300              while ( MSGpkt )
    301              {
    302                switch ( MSGpkt->hdr.event )
    303                {
    304                  case ZDO_CB_MSG:
    305                    GenericApp_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
    306                    break;
    307                    
    308                  case KEY_CHANGE:
    309                    GenericApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
    310                    break;
    311          
    312                  case AF_DATA_CONFIRM_CMD:
    313                    // This message is received as a confirmation of a data packet sent.
    314                    // The status is of ZStatus_t type [defined in ZComDef.h]
    315                    // The message fields are defined in AF.h
    316                    afDataConfirm = (afDataConfirm_t *)MSGpkt;
    317                    sentEP = afDataConfirm->endpoint;
    318                    sentStatus = afDataConfirm->hdr.status;
    319                    sentTransID = afDataConfirm->transID;
    320                    (void)sentEP;
    321                    (void)sentTransID;
    322          
    323                    // Action taken when confirmation is received.
    324                    if ( sentStatus != ZSuccess )
    325                    {
    326                      // The data wasn't delivered -- Do something
    327                    }
    328                    break;
    329          
    330                  case AF_INCOMING_MSG_CMD:
    331                    GenericApp_MessageMSGCB( MSGpkt );
    332                    break;
    333          
    334                  case ZDO_STATE_CHANGE:
    335                    GenericApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
   \                     ??GenericApp_ProcessEvent_2:
   \   000012   A3           INC     DPTR
   \   000013   E0           MOVX    A,@DPTR
   \   000014   90....       MOV     DPTR,#GenericApp_NwkState
   \   000017   F0           MOVX    @DPTR,A
    336                    if ( (GenericApp_NwkState == DEV_ZB_COORD)
    337                        || (GenericApp_NwkState == DEV_ROUTER)
    338                        || (GenericApp_NwkState == DEV_END_DEVICE) )
   \   000018   6409         XRL     A,#0x9
   \   00001A   600A         JZ      ??GenericApp_ProcessEvent_3
   \   00001C   E0           MOVX    A,@DPTR
   \   00001D   6407         XRL     A,#0x7
   \   00001F   6005         JZ      ??GenericApp_ProcessEvent_3
   \   000021   E0           MOVX    A,@DPTR
   \   000022   6406         XRL     A,#0x6
   \   000024   7034         JNZ     ??CrossCallReturnLabel_45
    339                    {
    340                      if (isLightController) {
   \                     ??GenericApp_ProcessEvent_3:
   \   000026   90....       MOV     DPTR,#isLightController
   \   000029   E0           MOVX    A,@DPTR
   \   00002A   6007         JZ      ??GenericApp_ProcessEvent_4
    341                        HalLedSet ( HAL_LED_1, HAL_LED_MODE_ON );
   \   00002C                ; Setup parameters for call to function HalLedSet
   \   00002C   7A01         MOV     R2,#0x1
   \   00002E   7901         MOV     R1,#0x1
   \   000030   12....       LCALL   ??HalLedSet?relay
    342                      }
    343                    //  byte* extAddr = NLME_GetExtAddr();
    344                      uint16 shortAddr = NLME_GetShortAddr();
   \                     ??GenericApp_ProcessEvent_4:
   \   000033                ; Setup parameters for call to function NLME_GetShortAddr
   \   000033   12....       LCALL   ??NLME_GetShortAddr?relay
   \   000036   8A..         MOV     ?V0 + 2,R2
   \   000038   8B..         MOV     ?V0 + 3,R3
    345                      uint16 parentShortAddr = NLME_GetCoordShortAddr();
    346                      
    347                      printf("Addr=%04X, ParentAddr=%04X\n", shortAddr, parentShortAddr);
   \   00003A                ; Setup parameters for call to function printf
   \   00003A                ; Setup parameters for call to function NLME_GetCoordShortAddr
   \   00003A   12....       LCALL   ??NLME_GetCoordShortAddr?relay
   \   00003D   8A..         MOV     ?V0 + 4,R2
   \   00003F   8B..         MOV     ?V0 + 5,R3
   \   000041   78..         MOV     R0,#?V0 + 4
   \   000043   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000046   78..         MOV     R0,#?V0 + 2
   \   000048   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004B   7A..         MOV     R2,#`?<Constant "Addr=%04X, ParentAddr...">` & 0xff
   \   00004D   7B..         MOV     R3,#(`?<Constant "Addr=%04X, ParentAddr...">` >> 8) & 0xff
   \   00004F   12....       LCALL   ??printf?relay
   \   000052   7404         MOV     A,#0x4
   \   000054   12....       LCALL   ?DEALLOC_XSTACK8
    348                      
    349                      // Start sending "the" message in a regular interval.
    350                     // osal_start_timerEx( GenericApp_TaskID,
    351                     //                     GENERICAPP_SEND_MSG_EVT,
    352                     //                   GENERICAPP_SEND_MSG_TIMEOUT );
    353                      osal_start_timerEx( GenericApp_TaskID,
    354                                  GENERICAPP_LIGHT_OFF_LATER_EVT,
    355                                GENERICAPP_LIGHT_OFF_LATER_TIMEOUT );
   \   000057                ; Setup parameters for call to function osal_start_timerEx
   \   000057   12....       LCALL   ?Subroutine11 & 0xFFFF
    356                    }
    357                    
    358                    
    359                    break;
    360          
    361                  default:
    362                    break;
    363                }
    364          
    365                // Release the memory
    366                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??CrossCallReturnLabel_45:
   \   00005A                ; Setup parameters for call to function osal_msg_deallocate
   \   00005A   AA..         MOV     R2,?V0 + 0
   \   00005C   AB..         MOV     R3,?V0 + 1
   \   00005E   12....       LCALL   ??osal_msg_deallocate?relay
    367          
    368                // Next
    369                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( GenericApp_TaskID );
   \   000061                ; Setup parameters for call to function osal_msg_receive
   \                     ??GenericApp_ProcessEvent_1:
   \   000061   90....       MOV     DPTR,#GenericApp_TaskID
   \   000064   E0           MOVX    A,@DPTR
   \   000065   F9           MOV     R1,A
   \   000066   12....       LCALL   ??osal_msg_receive?relay
   \   000069   8A..         MOV     ?V0 + 0,R2
   \   00006B   8B..         MOV     ?V0 + 1,R3
   \   00006D   E5..         MOV     A,?V0 + 0
   \   00006F   45..         ORL     A,?V0 + 1
   \   000071   603D         JZ      ??GenericApp_ProcessEvent_5
   \   000073   85..82       MOV     DPL,?V0 + 0
   \   000076   85..83       MOV     DPH,?V0 + 1
   \   000079   E0           MOVX    A,@DPTR
   \   00007A   24E6         ADD     A,#-0x1a
   \   00007C   6029         JZ      ??GenericApp_ProcessEvent_6
   \   00007E   245A         ADD     A,#0x5a
   \   000080   6011         JZ      ??GenericApp_ProcessEvent_7
   \   000082   24EF         ADD     A,#-0x11
   \   000084   608C         JZ      ??GenericApp_ProcessEvent_2
   \   000086   24FE         ADD     A,#-0x2
   \   000088   70D0         JNZ     ??CrossCallReturnLabel_45
   \   00008A                ; Setup parameters for call to function GenericApp_ProcessZDOMsgs
   \   00008A   AA..         MOV     R2,?V0 + 0
   \   00008C   AB..         MOV     R3,?V0 + 1
   \   00008E   12....       LCALL   ??GenericApp_ProcessZDOMsgs?relay
   \   000091   80C7         SJMP    ??CrossCallReturnLabel_45
   \                     ??GenericApp_ProcessEvent_7:
   \   000093                ; Setup parameters for call to function GenericApp_HandleKeys
   \   000093   A3           INC     DPTR
   \   000094   A3           INC     DPTR
   \   000095   A3           INC     DPTR
   \   000096   E0           MOVX    A,@DPTR
   \   000097   FA           MOV     R2,A
   \   000098   85..82       MOV     DPL,?V0 + 0
   \   00009B   85..83       MOV     DPH,?V0 + 1
   \   00009E   A3           INC     DPTR
   \   00009F   A3           INC     DPTR
   \   0000A0   E0           MOVX    A,@DPTR
   \   0000A1   F9           MOV     R1,A
   \   0000A2   12....       LCALL   ??GenericApp_HandleKeys?relay
   \   0000A5   80B3         SJMP    ??CrossCallReturnLabel_45
   \                     ??GenericApp_ProcessEvent_6:
   \   0000A7                ; Setup parameters for call to function GenericApp_MessageMSGCB
   \   0000A7   AA..         MOV     R2,?V0 + 0
   \   0000A9   AB..         MOV     R3,?V0 + 1
   \   0000AB   12....       LCALL   ??GenericApp_MessageMSGCB?relay
   \   0000AE   80AA         SJMP    ??CrossCallReturnLabel_45
    370              }
    371          
    372              // return unprocessed events
    373              return (events ^ SYS_EVENT_MSG);
   \                     ??GenericApp_ProcessEvent_5:
   \   0000B0   EE           MOV     A,R6
   \   0000B1   FA           MOV     R2,A
   \   0000B2   EF           MOV     A,R7
   \   0000B3   6480         XRL     A,#0x80
   \                     ??GenericApp_ProcessEvent_8:
   \   0000B5   FB           MOV     R3,A
   \   0000B6   806F         SJMP    ??GenericApp_ProcessEvent_9
    374            }
    375          
    376            // Send a message out - This event is generated by a timer
    377            //  (setup in GenericApp_Init()).
    378            if ( events & GENERICAPP_SEND_MSG_EVT )
   \                     ??GenericApp_ProcessEvent_0:
   \   0000B8   EE           MOV     A,R6
   \   0000B9   A2E0         MOV     C,0xE0 /* A   */.0
   \   0000BB   5013         JNC     ??GenericApp_ProcessEvent_10
    379            {
    380              // Send "the" message
    381              GenericApp_SendTheMessage();
   \   0000BD                ; Setup parameters for call to function GenericApp_SendTheMessage
   \   0000BD   12....       LCALL   ??GenericApp_SendTheMessage?relay
    382          
    383              // Setup to send message again
    384              osal_start_timerEx( GenericApp_TaskID,
    385                                  GENERICAPP_SEND_MSG_EVT,
    386                                GENERICAPP_SEND_MSG_TIMEOUT );
   \   0000C0                ; Setup parameters for call to function osal_start_timerEx
   \   0000C0   7C88         MOV     R4,#-0x78
   \   0000C2   7D13         MOV     R5,#0x13
   \   0000C4   7A01         MOV     R2,#0x1
   \   0000C6   12....       LCALL   ??Subroutine20_0 & 0xFFFF
    387          
    388              // return unprocessed events
    389              return (events ^ GENERICAPP_SEND_MSG_EVT);
   \                     ??CrossCallReturnLabel_47:
   \   0000C9   EE           MOV     A,R6
   \   0000CA   6401         XRL     A,#0x1
   \                     ??GenericApp_ProcessEvent_11:
   \   0000CC   FA           MOV     R2,A
   \   0000CD   EF           MOV     A,R7
   \   0000CE   80E5         SJMP    ??GenericApp_ProcessEvent_8
    390            }
    391            
    392             if ( events & GENERICAPP_LIGHT_OFF_LATER_EVT )
   \                     ??GenericApp_ProcessEvent_10:
   \   0000D0   5402         ANL     A,#0x2
   \   0000D2   604F         JZ      ??GenericApp_ProcessEvent_12
    393            {
    394              
    395              currentTime++;
   \   0000D4   90....       MOV     DPTR,#currentTime
   \   0000D7   E0           MOVX    A,@DPTR
   \   0000D8   2401         ADD     A,#0x1
   \   0000DA   F0           MOVX    @DPTR,A
   \   0000DB   A3           INC     DPTR
   \   0000DC   E0           MOVX    A,@DPTR
   \   0000DD   3400         ADDC    A,#0x0
   \   0000DF   F0           MOVX    @DPTR,A
    396              
    397              if (lightOffTimeValue > 0 && currentTime > lightOffTimeValue) {
   \   0000E0   90....       MOV     DPTR,#lightOffTimeValue
   \   0000E3   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   0000E6   E8           MOV     A,R0
   \   0000E7   49           ORL     A,R1
   \   0000E8   6031         JZ      ??CrossCallReturnLabel_41
   \   0000EA   90....       MOV     DPTR,#currentTime
   \   0000ED   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   0000F0   7583..       MOV     DPH,#(lightOffTimeValue >> 8) & 0xff
   \   0000F3   7582..       MOV     DPL,#lightOffTimeValue & 0xff
   \   0000F6   C3           CLR     C
   \   0000F7   E0           MOVX    A,@DPTR
   \   0000F8   98           SUBB    A,R0
   \   0000F9   A3           INC     DPTR
   \   0000FA   E0           MOVX    A,@DPTR
   \   0000FB   99           SUBB    A,R1
   \   0000FC   501D         JNC     ??CrossCallReturnLabel_41
    398                
    399                printf("current : %d, LightOffTimeValue: %d\n", currentTime, lightOffTimeValue);
   \   0000FE                ; Setup parameters for call to function printf
   \   0000FE   90....       MOV     DPTR,#lightOffTimeValue
   \   000101   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000104   90....       MOV     DPTR,#currentTime
   \   000107   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00010A   7A..         MOV     R2,#`?<Constant "current : %d, LightOf...">` & 0xff
   \   00010C   7B..         MOV     R3,#(`?<Constant "current : %d, LightOf...">` >> 8) & 0xff
   \   00010E   12....       LCALL   ??printf?relay
   \   000111   7404         MOV     A,#0x4
   \   000113   12....       LCALL   ?DEALLOC_XSTACK8
    400                
    401                HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   \   000116                ; Setup parameters for call to function HalLedSet
   \   000116   7A00         MOV     R2,#0x0
   \   000118   12....       LCALL   ?Subroutine18 & 0xFFFF
    402                
    403                resetCurrentTime();
    404                
    405              }
    406          
    407              osal_start_timerEx( GenericApp_TaskID,
    408                                  GENERICAPP_LIGHT_OFF_LATER_EVT,
    409                                GENERICAPP_LIGHT_OFF_LATER_TIMEOUT );
   \                     ??CrossCallReturnLabel_41:
   \   00011B                ; Setup parameters for call to function osal_start_timerEx
   \   00011B   12....       LCALL   ?Subroutine11 & 0xFFFF
    410              
    411              // return unprocessed events
    412              return (events ^ GENERICAPP_LIGHT_OFF_LATER_EVT);
   \                     ??CrossCallReturnLabel_46:
   \   00011E   EE           MOV     A,R6
   \   00011F   6402         XRL     A,#0x2
   \   000121   80A9         SJMP    ??GenericApp_ProcessEvent_11
    413            }
    414          
    415            // Discard unknown events
    416            return 0;
   \                     ??GenericApp_ProcessEvent_12:
   \   000123   7A00         MOV     R2,#0x0
   \   000125   7B00         MOV     R3,#0x0
   \                     ??GenericApp_ProcessEvent_9:
   \   000127   02....       LJMP    ??Subroutine24_0 & 0xFFFF
    417          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   7CE8         MOV     R4,#-0x18
   \   000002   7D03         MOV     R5,#0x3
   \   000004   7A02         MOV     R2,#0x2
   \   000006                REQUIRE ??Subroutine20_0
   \   000006                ; // Fall through to label ??Subroutine20_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine20_0:
   \   000000   7B00         MOV     R3,#0x0
   \   000002   90....       MOV     DPTR,#GenericApp_TaskID
   \   000005   E0           MOVX    A,@DPTR
   \   000006   F9           MOV     R1,A
   \   000007   12....       LCALL   ??osal_start_timerEx?relay
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   7901         MOV     R1,#0x1
   \   000002   12....       LCALL   ??HalLedSet?relay
   \   000005   90....       MOV     DPTR,#currentTime
   \   000008   E4           CLR     A
   \   000009   F0           MOVX    @DPTR,A
   \   00000A   A3           INC     DPTR
   \   00000B   F0           MOVX    @DPTR,A
   \   00000C   90....       MOV     DPTR,#lightOffTimeValue
   \   00000F   F0           MOVX    @DPTR,A
   \   000010   A3           INC     DPTR
   \   000011   F0           MOVX    @DPTR,A
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine24_0:
   \   000000   7F06         MOV     R7,#0x6
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    418          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    419          void processLightToggle(afIncomingMSGPacket_t *inMsg)
   \                     processLightToggle:
    420          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 60
   \   000005   74C4         MOV     A,#-0x3c
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine13 & 0xFFFF
    421            uint16 shortAddr = NLME_GetShortAddr();
    422            uint16 parentShortAddr = NLME_GetCoordShortAddr();
    423            char buf[48];
    424            int len = sprintf(buf, "LightToggleResp %s %04X %04X", getMyName(), shortAddr, parentShortAddr);
   \                     ??CrossCallReturnLabel_21:
   \   00000D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000010   78..         MOV     R0,#?V0 + 0
   \   000012   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000015                ; Setup parameters for call to function getMyName
   \   000015   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_12:
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00001B   7C..         MOV     R4,#`?<Constant "LightToggleResp %s %0...">` & 0xff
   \   00001D   7D..         MOV     R5,#(`?<Constant "LightToggleResp %s %0...">` >> 8) & 0xff
   \   00001F   7412         MOV     A,#0x12
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_36:
   \   000027   12....       LCALL   ?DEALLOC_XSTACK8
    425            
    426            afAddrType_t P2P_DstAddr;
    427            P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00002A   7408         MOV     A,#0x8
   \   00002C   12....       LCALL   ?XSTACK_DISP0_8
   \   00002F   7402         MOV     A,#0x2
   \   000031   F0           MOVX    @DPTR,A
    428            P2P_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000032   7409         MOV     A,#0x9
   \   000034   12....       LCALL   ?XSTACK_DISP0_8
   \   000037   12....       LCALL   ?Subroutine3 & 0xFFFF
    429            P2P_DstAddr.addr.shortAddr = inMsg->srcAddr.addr.shortAddr;
    430            
    431            HalLedSet ( HAL_LED_1, HAL_LED_MODE_TOGGLE );
   \                     ??CrossCallReturnLabel_0:
   \   00003A                ; Setup parameters for call to function HalLedSet
   \   00003A   7A08         MOV     R2,#0x8
   \   00003C   12....       LCALL   ?Subroutine4 & 0xFFFF
    432            
    433            // disable light auto off
    434            resetCurrentTime();
    435            
    436            if ( AF_DataRequest( &P2P_DstAddr, &GenericApp_epDesc,
    437                                 GENERICAPP_CLUSTERID,
    438                                 osal_strlen(buf)+1,
    439                                 (uint8*)buf,
    440                                 &GenericApp_TransID,
    441                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \                     ??CrossCallReturnLabel_5:
   \   00003F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000042   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   000045   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   000048   78..         MOV     R0,#?V0 + 0
   \   00004A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004D   740F         MOV     A,#0xf
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   8582..       MOV     ?V0 + 0,DPL
   \   000055   8583..       MOV     ?V0 + 1,DPH
   \   000058   78..         MOV     R0,#?V0 + 0
   \   00005A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005D                ; Setup parameters for call to function osal_strlen
   \   00005D   7411         MOV     A,#0x11
   \   00005F   12....       LCALL   ?XSTACK_DISP0_8
   \   000062   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   000065   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000068   75..01       MOV     ?V0 + 0,#0x1
   \   00006B   75..00       MOV     ?V0 + 1,#0x0
   \   00006E   78..         MOV     R0,#?V0 + 0
   \   000070   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000073   7920         MOV     R1,#0x20
   \   000075   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   000077   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000079   7409         MOV     A,#0x9
   \   00007B   12....       LCALL   ?XSTACK_DISP0_8
   \   00007E   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   000081   12....       LCALL   ?DEALLOC_XSTACK8
   \   000084   E9           MOV     A,R1
   \   000085   6016         JZ      ??processLightToggle_0
    442            {
    443              // Successfully requested to be sent.
    444            }
    445            else
    446            {
    447              printf("send ReportNamesResp error %s\n", buf);
   \   000087                ; Setup parameters for call to function printf
   \   000087   740C         MOV     A,#0xc
   \   000089   12....       LCALL   ?XSTACK_DISP0_8
   \   00008C   8582..       MOV     ?V0 + 0,DPL
   \   00008F   8583..       MOV     ?V0 + 1,DPH
   \   000092   78..         MOV     R0,#?V0 + 0
   \   000094   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000097   12....       LCALL   ?Subroutine14 & 0xFFFF
    448            }
   \                     ??CrossCallReturnLabel_48:
   \   00009A   12....       LCALL   ?DEALLOC_XSTACK8
    449            
    450          }
   \                     ??processLightToggle_0:
   \   00009D   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   7A..         MOV     R2,#`?<Constant "send ReportNamesResp ...">` & 0xff
   \   000002   7B..         MOV     R3,#(`?<Constant "send ReportNamesResp ...">` >> 8) & 0xff
   \   000004                REQUIRE ??Subroutine21_0
   \   000004                ; // Fall through to label ??Subroutine21_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   000003                ; Setup parameters for call to function AF_DataRequest
   \   000003                ; Setup parameters for call to function AF_DataRequest
   \   000003   75..1E       MOV     ?V0 + 0,#0x1e
   \   000006   78..         MOV     R0,#?V0 + 0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004   12....       LCALL   ??sprintf?relay
   \   000007   7406         MOV     A,#0x6
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   EA           MOV     A,R2
   \   000001   FE           MOV     R6,A
   \   000002   EB           MOV     A,R3
   \   000003   FF           MOV     R7,A
   \   000004                ; Setup parameters for call to function NLME_GetShortAddr
   \   000004                ; Setup parameters for call to function NLME_GetShortAddr
   \   000004                ; Setup parameters for call to function NLME_GetShortAddr
   \   000004                ; Setup parameters for call to function NLME_GetShortAddr
   \   000004                ; Setup parameters for call to function NLME_GetShortAddr
   \   000004   12....       LCALL   ??NLME_GetShortAddr?relay
   \   000007   8A..         MOV     ?V0 + 0,R2
   \   000009   8B..         MOV     ?V0 + 1,R3
   \   00000B                ; Setup parameters for call to function NLME_GetCoordShortAddr
   \   00000B                ; Setup parameters for call to function NLME_GetCoordShortAddr
   \   00000B                ; Setup parameters for call to function NLME_GetCoordShortAddr
   \   00000B                ; Setup parameters for call to function NLME_GetCoordShortAddr
   \   00000B                ; Setup parameters for call to function NLME_GetCoordShortAddr
   \   00000B   12....       LCALL   ??NLME_GetCoordShortAddr?relay
   \   00000E   8A..         MOV     ?V0 + 2,R2
   \   000010   8B..         MOV     ?V0 + 3,R3
   \   000012                ; Setup parameters for call to function sprintf
   \   000012                ; Setup parameters for call to function sprintf
   \   000012                ; Setup parameters for call to function sprintf
   \   000012                ; Setup parameters for call to function sprintf
   \   000012                ; Setup parameters for call to function sprintf
   \   000012   78..         MOV     R0,#?V0 + 2
   \   000014   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004                REQUIRE ??Subroutine22_0
   \   000004                ; // Fall through to label ??Subroutine22_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine22_0:
   \   000000   12....       LCALL   ??osal_strlen?relay
   \   000003   EA           MOV     A,R2
   \   000004   2401         ADD     A,#0x1
   \   000006   F5..         MOV     ?V0 + 0,A
   \   000008   EB           MOV     A,R3
   \   000009   3400         ADDC    A,#0x0
   \   00000B   F5..         MOV     ?V0 + 1,A
   \   00000D   78..         MOV     R0,#?V0 + 0
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   12....       LCALL   ??getMyName?relay
   \   000003   8A..         MOV     ?V0 + 0,R2
   \   000005   8B..         MOV     ?V0 + 1,R3
   \   000007   78..         MOV     R0,#?V0 + 0
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   740A         MOV     A,#0xa
   \   000002   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   F8           MOV     R0,A
   \   000009   A3           INC     DPTR
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   F9           MOV     R1,A
   \   00000C   85..82       MOV     DPL,?XSP + 0
   \   00000F   85..83       MOV     DPH,?XSP + 1
   \   000012   E8           MOV     A,R0
   \   000013   F0           MOVX    @DPTR,A
   \   000014   A3           INC     DPTR
   \   000015   E9           MOV     A,R1
   \   000016   F0           MOVX    @DPTR,A
   \   000017   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   743C         MOV     A,#0x3c
   \   000002                REQUIRE ??Subroutine23_0
   \   000002                ; // Fall through to label ??Subroutine23_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine23_0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine24_0
   \   000003                ; // Fall through to label ??Subroutine24_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004   12....       LCALL   ??AF_DataRequest?relay
   \   000007   7409         MOV     A,#0x9
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8E82         MOV     DPL,R6
   \   000003   8F83         MOV     DPH,R7
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   22           RET
    451          
    452          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    453          void processLightOn(afIncomingMSGPacket_t *inMsg)
   \                     processLightOn:
    454          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 60
   \   000005   74C4         MOV     A,#-0x3c
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine13 & 0xFFFF
    455            uint16 shortAddr = NLME_GetShortAddr();
    456            uint16 parentShortAddr = NLME_GetCoordShortAddr();
    457            char buf[48];
    458            int len = sprintf(buf, "LightOnResp %s %04X %04X", getMyName(), shortAddr, parentShortAddr);
   \                     ??CrossCallReturnLabel_22:
   \   00000D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000010   78..         MOV     R0,#?V0 + 0
   \   000012   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000015                ; Setup parameters for call to function getMyName
   \   000015   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00001B   7C..         MOV     R4,#`?<Constant "LightOnResp %s %04X %04X">` & 0xff
   \   00001D   7D..         MOV     R5,#(`?<Constant "LightOnResp %s %04X %04X">` >> 8) & 0xff
   \   00001F   7412         MOV     A,#0x12
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   000027   12....       LCALL   ?DEALLOC_XSTACK8
    459            
    460            afAddrType_t P2P_DstAddr;
    461            P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00002A   7408         MOV     A,#0x8
   \   00002C   12....       LCALL   ?XSTACK_DISP0_8
   \   00002F   7402         MOV     A,#0x2
   \   000031   F0           MOVX    @DPTR,A
    462            P2P_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000032   7409         MOV     A,#0x9
   \   000034   12....       LCALL   ?XSTACK_DISP0_8
   \   000037   12....       LCALL   ?Subroutine3 & 0xFFFF
    463            P2P_DstAddr.addr.shortAddr = inMsg->srcAddr.addr.shortAddr;
    464            
    465            HalLedSet ( HAL_LED_1, HAL_LED_MODE_ON );
   \                     ??CrossCallReturnLabel_1:
   \   00003A                ; Setup parameters for call to function HalLedSet
   \   00003A   7A01         MOV     R2,#0x1
   \   00003C   12....       LCALL   ?Subroutine4 & 0xFFFF
    466            
    467            // disable light auto off
    468            resetCurrentTime();
    469            
    470            if ( AF_DataRequest( &P2P_DstAddr, &GenericApp_epDesc,
    471                                 GENERICAPP_CLUSTERID,
    472                                 osal_strlen(buf)+1,
    473                                 (uint8*)buf,
    474                                 &GenericApp_TransID,
    475                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \                     ??CrossCallReturnLabel_6:
   \   00003F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000042   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   000045   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   000048   78..         MOV     R0,#?V0 + 0
   \   00004A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004D   740F         MOV     A,#0xf
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   8582..       MOV     ?V0 + 0,DPL
   \   000055   8583..       MOV     ?V0 + 1,DPH
   \   000058   78..         MOV     R0,#?V0 + 0
   \   00005A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005D                ; Setup parameters for call to function osal_strlen
   \   00005D   7411         MOV     A,#0x11
   \   00005F   12....       LCALL   ?XSTACK_DISP0_8
   \   000062   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   000065   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000068   75..01       MOV     ?V0 + 0,#0x1
   \   00006B   75..00       MOV     ?V0 + 1,#0x0
   \   00006E   78..         MOV     R0,#?V0 + 0
   \   000070   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000073   7920         MOV     R1,#0x20
   \   000075   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   000077   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000079   7409         MOV     A,#0x9
   \   00007B   12....       LCALL   ?XSTACK_DISP0_8
   \   00007E   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   000081   12....       LCALL   ?DEALLOC_XSTACK8
   \   000084   E9           MOV     A,R1
   \   000085   6016         JZ      ??processLightOn_0
    476            {
    477              // Successfully requested to be sent.
    478            }
    479            else
    480            {
    481              printf("send ReportNamesResp error %s\n", buf);
   \   000087                ; Setup parameters for call to function printf
   \   000087   740C         MOV     A,#0xc
   \   000089   12....       LCALL   ?XSTACK_DISP0_8
   \   00008C   8582..       MOV     ?V0 + 0,DPL
   \   00008F   8583..       MOV     ?V0 + 1,DPH
   \   000092   78..         MOV     R0,#?V0 + 0
   \   000094   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000097   12....       LCALL   ?Subroutine14 & 0xFFFF
    482            }
   \                     ??CrossCallReturnLabel_49:
   \   00009A   12....       LCALL   ?DEALLOC_XSTACK8
    483            
    484          }
   \                     ??processLightOn_0:
   \   00009D   02....       LJMP    ?Subroutine0 & 0xFFFF
    485          
    486          static void processLightOffLater(afIncomingMSGPacket_t *inMsg);
    487          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    488          void processLightOffLater(afIncomingMSGPacket_t *pkt)
   \                     processLightOffLater:
    489          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 60
   \   000005   74C4         MOV     A,#-0x3c
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine13 & 0xFFFF
    490            uint16 shortAddr = NLME_GetShortAddr();
    491            uint16 parentShortAddr = NLME_GetCoordShortAddr();
    492            char buf[48];
    493            int len = sprintf(buf, "LightOffLaterResp %s %04X %04X", getMyName(), shortAddr, parentShortAddr);
   \                     ??CrossCallReturnLabel_23:
   \   00000D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000010   78..         MOV     R0,#?V0 + 0
   \   000012   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000015                ; Setup parameters for call to function getMyName
   \   000015   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00001B   7C..         MOV     R4,#`?<Constant "LightOffLaterResp %s ...">` & 0xff
   \   00001D   7D..         MOV     R5,#(`?<Constant "LightOffLaterResp %s ...">` >> 8) & 0xff
   \   00001F   7412         MOV     A,#0x12
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_38:
   \   000027   12....       LCALL   ?DEALLOC_XSTACK8
    494            
    495            afAddrType_t P2P_DstAddr;
    496            P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00002A   7408         MOV     A,#0x8
   \   00002C   12....       LCALL   ?XSTACK_DISP0_8
   \   00002F   7402         MOV     A,#0x2
   \   000031   F0           MOVX    @DPTR,A
    497            P2P_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000032   7409         MOV     A,#0x9
   \   000034   12....       LCALL   ?XSTACK_DISP0_8
   \   000037   12....       LCALL   ?Subroutine3 & 0xFFFF
    498            P2P_DstAddr.addr.shortAddr = pkt->srcAddr.addr.shortAddr;
    499            
    500            uint8* cmdData = pkt->cmd.Data;
   \                     ??CrossCallReturnLabel_2:
   \   00003A   EE           MOV     A,R6
   \   00003B   2421         ADD     A,#0x21
   \   00003D   F582         MOV     DPL,A
   \   00003F   EF           MOV     A,R7
   \   000040   3400         ADDC    A,#0x0
   \   000042   F583         MOV     DPH,A
   \   000044   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   000047   E8           MOV     A,R0
   \   000048   FE           MOV     R6,A
   \   000049   E9           MOV     A,R1
   \   00004A   FF           MOV     R7,A
    501            
    502            cmdData += osal_strlen("LightOffLater ");
    503            
    504            uint16 plusTime = strToUint16(cmdData);
   \   00004B                ; Setup parameters for call to function strToUint16
   \   00004B                ; Setup parameters for call to function osal_strlen
   \   00004B   7A..         MOV     R2,#`?<Constant "LightOffLater ">` & 0xff
   \   00004D   7B..         MOV     R3,#(`?<Constant "LightOffLater ">` >> 8) & 0xff
   \   00004F   12....       LCALL   ??osal_strlen?relay
   \   000052   8A..         MOV     ?V0 + 0,R2
   \   000054   8B..         MOV     ?V0 + 1,R3
   \   000056   EE           MOV     A,R6
   \   000057   25..         ADD     A,?V0 + 0
   \   000059   FA           MOV     R2,A
   \   00005A   EF           MOV     A,R7
   \   00005B   35..         ADDC    A,?V0 + 1
   \   00005D   FB           MOV     R3,A
   \   00005E   12....       LCALL   ??strToUint16?relay
   \   000061   8A..         MOV     ?V0 + 0,R2
   \   000063   8B..         MOV     ?V0 + 1,R3
    505            
    506            resetCurrentTime();
   \   000065   90....       MOV     DPTR,#currentTime
   \   000068   E4           CLR     A
   \   000069   F0           MOVX    @DPTR,A
   \   00006A   A3           INC     DPTR
   \   00006B   F0           MOVX    @DPTR,A
    507            
    508            lightOffTimeValue = currentTime + plusTime;
   \   00006C   90....       MOV     DPTR,#lightOffTimeValue
   \   00006F   EA           MOV     A,R2
   \   000070   F0           MOVX    @DPTR,A
   \   000071   A3           INC     DPTR
   \   000072   EB           MOV     A,R3
   \   000073   F0           MOVX    @DPTR,A
    509            
    510            printf("plusTime %d, LightOffTimeValue: %d, currentTime=%d\n", plusTime, lightOffTimeValue, currentTime);
   \   000074                ; Setup parameters for call to function printf
   \   000074   E4           CLR     A
   \   000075   F5..         MOV     ?V0 + 2,A
   \   000077   F5..         MOV     ?V0 + 3,A
   \   000079   78..         MOV     R0,#?V0 + 2
   \   00007B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007E   90....       MOV     DPTR,#lightOffTimeValue
   \   000081   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000084   78..         MOV     R0,#?V0 + 0
   \   000086   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000089   7A..         MOV     R2,#`?<Constant "plusTime %d, LightOff...">` & 0xff
   \   00008B   7B..         MOV     R3,#(`?<Constant "plusTime %d, LightOff...">` >> 8) & 0xff
   \   00008D   12....       LCALL   ??printf?relay
   \   000090   7406         MOV     A,#0x6
   \   000092   12....       LCALL   ?DEALLOC_XSTACK8
    511            
    512            if ( AF_DataRequest( &P2P_DstAddr, &GenericApp_epDesc,
    513                                 GENERICAPP_CLUSTERID,
    514                                 osal_strlen(buf)+1,
    515                                 (uint8*)buf,
    516                                 &GenericApp_TransID,
    517                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000095                ; Setup parameters for call to function AF_DataRequest
   \   000095   75..1E       MOV     ?V0 + 0,#0x1e
   \   000098   78..         MOV     R0,#?V0 + 0
   \   00009A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00009D   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   0000A0   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   0000A3   78..         MOV     R0,#?V0 + 0
   \   0000A5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A8   740F         MOV     A,#0xf
   \   0000AA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AD   8582..       MOV     ?V0 + 0,DPL
   \   0000B0   8583..       MOV     ?V0 + 1,DPH
   \   0000B3   78..         MOV     R0,#?V0 + 0
   \   0000B5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B8                ; Setup parameters for call to function osal_strlen
   \   0000B8   7411         MOV     A,#0x11
   \   0000BA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BD   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   0000C0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C3   75..01       MOV     ?V0 + 0,#0x1
   \   0000C6   75..00       MOV     ?V0 + 1,#0x0
   \   0000C9   78..         MOV     R0,#?V0 + 0
   \   0000CB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000CE   7920         MOV     R1,#0x20
   \   0000D0   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   0000D2   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   0000D4   7409         MOV     A,#0x9
   \   0000D6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D9   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   0000DC   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000DF   E9           MOV     A,R1
   \   0000E0   6016         JZ      ??processLightOffLater_0
    518            {
    519              // Successfully requested to be sent.
    520            }
    521            else
    522            {
    523              printf("send ReportNamesResp error %s\n", buf);
   \   0000E2                ; Setup parameters for call to function printf
   \   0000E2   740C         MOV     A,#0xc
   \   0000E4   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E7   8582..       MOV     ?V0 + 0,DPL
   \   0000EA   8583..       MOV     ?V0 + 1,DPH
   \   0000ED   78..         MOV     R0,#?V0 + 0
   \   0000EF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F2   12....       LCALL   ?Subroutine14 & 0xFFFF
    524            }
   \                     ??CrossCallReturnLabel_50:
   \   0000F5   12....       LCALL   ?DEALLOC_XSTACK8
    525            
    526          }
   \                     ??processLightOffLater_0:
   \   0000F8   02....       LJMP    ?Subroutine0 & 0xFFFF
    527          
    528          
    529          static void processLightOff(afIncomingMSGPacket_t *inMsg);
    530          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    531          void processLightOff(afIncomingMSGPacket_t *inMsg)
   \                     processLightOff:
    532          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 60
   \   000005   74C4         MOV     A,#-0x3c
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine13 & 0xFFFF
    533            uint16 shortAddr = NLME_GetShortAddr();
    534            uint16 parentShortAddr = NLME_GetCoordShortAddr();
    535            char buf[48];
    536            int len = sprintf(buf, "LightOffResp %s %04X %04X", getMyName(), shortAddr, parentShortAddr);
   \                     ??CrossCallReturnLabel_24:
   \   00000D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000010   78..         MOV     R0,#?V0 + 0
   \   000012   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000015                ; Setup parameters for call to function getMyName
   \   000015   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00001B   7C..         MOV     R4,#`?<Constant "LightOffResp %s %04X ...">` & 0xff
   \   00001D   7D..         MOV     R5,#(`?<Constant "LightOffResp %s %04X ...">` >> 8) & 0xff
   \   00001F   7412         MOV     A,#0x12
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   000027   12....       LCALL   ?DEALLOC_XSTACK8
    537            
    538            afAddrType_t P2P_DstAddr;
    539            P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00002A   7408         MOV     A,#0x8
   \   00002C   12....       LCALL   ?XSTACK_DISP0_8
   \   00002F   7402         MOV     A,#0x2
   \   000031   F0           MOVX    @DPTR,A
    540            P2P_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000032   7409         MOV     A,#0x9
   \   000034   12....       LCALL   ?XSTACK_DISP0_8
   \   000037   12....       LCALL   ?Subroutine3 & 0xFFFF
    541            P2P_DstAddr.addr.shortAddr = inMsg->srcAddr.addr.shortAddr;
    542            
    543            HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   \                     ??CrossCallReturnLabel_3:
   \   00003A                ; Setup parameters for call to function HalLedSet
   \   00003A   7A00         MOV     R2,#0x0
   \   00003C   7901         MOV     R1,#0x1
   \   00003E   12....       LCALL   ??HalLedSet?relay
    544            
    545            if ( AF_DataRequest( &P2P_DstAddr, &GenericApp_epDesc,
    546                                 GENERICAPP_CLUSTERID,
    547                                 osal_strlen(buf)+1,
    548                                 (uint8*)buf,
    549                                 &GenericApp_TransID,
    550                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000041                ; Setup parameters for call to function AF_DataRequest
   \   000041   75..1E       MOV     ?V0 + 0,#0x1e
   \   000044   78..         MOV     R0,#?V0 + 0
   \   000046   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000049   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   00004C   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   00004F   78..         MOV     R0,#?V0 + 0
   \   000051   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000054   740F         MOV     A,#0xf
   \   000056   12....       LCALL   ?XSTACK_DISP0_8
   \   000059   8582..       MOV     ?V0 + 0,DPL
   \   00005C   8583..       MOV     ?V0 + 1,DPH
   \   00005F   78..         MOV     R0,#?V0 + 0
   \   000061   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000064                ; Setup parameters for call to function osal_strlen
   \   000064   7411         MOV     A,#0x11
   \   000066   12....       LCALL   ?XSTACK_DISP0_8
   \   000069   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   00006C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00006F   75..01       MOV     ?V0 + 0,#0x1
   \   000072   75..00       MOV     ?V0 + 1,#0x0
   \   000075   78..         MOV     R0,#?V0 + 0
   \   000077   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007A   7920         MOV     R1,#0x20
   \   00007C   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   00007E   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000080   7409         MOV     A,#0x9
   \   000082   12....       LCALL   ?XSTACK_DISP0_8
   \   000085   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   000088   12....       LCALL   ?DEALLOC_XSTACK8
   \   00008B   E9           MOV     A,R1
   \   00008C   6016         JZ      ??processLightOff_0
    551            {
    552              // Successfully requested to be sent.
    553            }
    554            else
    555            {
    556              printf("send ReportNamesResp error %s\n", buf);
   \   00008E                ; Setup parameters for call to function printf
   \   00008E   740C         MOV     A,#0xc
   \   000090   12....       LCALL   ?XSTACK_DISP0_8
   \   000093   8582..       MOV     ?V0 + 0,DPL
   \   000096   8583..       MOV     ?V0 + 1,DPH
   \   000099   78..         MOV     R0,#?V0 + 0
   \   00009B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00009E   12....       LCALL   ?Subroutine14 & 0xFFFF
    557            }
   \                     ??CrossCallReturnLabel_51:
   \   0000A1   12....       LCALL   ?DEALLOC_XSTACK8
    558            
    559          }
   \                     ??processLightOff_0:
   \   0000A4                REQUIRE ?Subroutine0
   \   0000A4                ; // Fall through to label ?Subroutine0
    560          
    561          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    562          void processReportNames(afIncomingMSGPacket_t *inMsg)
   \                     processReportNames:
    563          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 60
   \   000005   74C4         MOV     A,#-0x3c
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   12....       LCALL   ?Subroutine13 & 0xFFFF
    564            uint16 shortAddr = NLME_GetShortAddr();
    565            uint16 parentShortAddr = NLME_GetCoordShortAddr();
    566            char buf[48];
    567            int len = sprintf(buf, "ReportNamesResp %s %04X %04X", getMyName(), shortAddr, parentShortAddr);
   \                     ??CrossCallReturnLabel_25:
   \   00000D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000010   78..         MOV     R0,#?V0 + 0
   \   000012   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000015                ; Setup parameters for call to function getMyName
   \   000015   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00001B   7C..         MOV     R4,#`?<Constant "ReportNamesResp %s %0...">` & 0xff
   \   00001D   7D..         MOV     R5,#(`?<Constant "ReportNamesResp %s %0...">` >> 8) & 0xff
   \   00001F   7412         MOV     A,#0x12
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_40:
   \   000027   12....       LCALL   ?DEALLOC_XSTACK8
    568            
    569            afAddrType_t P2P_DstAddr;
    570            P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00002A   7408         MOV     A,#0x8
   \   00002C   12....       LCALL   ?XSTACK_DISP0_8
   \   00002F   7402         MOV     A,#0x2
   \   000031   F0           MOVX    @DPTR,A
    571            P2P_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000032   7409         MOV     A,#0x9
   \   000034   12....       LCALL   ?XSTACK_DISP0_8
   \   000037   12....       LCALL   ?Subroutine3 & 0xFFFF
    572            P2P_DstAddr.addr.shortAddr = inMsg->srcAddr.addr.shortAddr;
    573            
    574              
    575            if ( AF_DataRequest( &P2P_DstAddr, &GenericApp_epDesc,
    576                                 GENERICAPP_CLUSTERID,
    577                                 osal_strlen(buf)+1,
    578                                 (uint8*)buf,
    579                                 &GenericApp_TransID,
    580                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \                     ??CrossCallReturnLabel_4:
   \   00003A                ; Setup parameters for call to function AF_DataRequest
   \   00003A   75..1E       MOV     ?V0 + 0,#0x1e
   \   00003D   78..         MOV     R0,#?V0 + 0
   \   00003F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000042   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   000045   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   000048   78..         MOV     R0,#?V0 + 0
   \   00004A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004D   740F         MOV     A,#0xf
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   8582..       MOV     ?V0 + 0,DPL
   \   000055   8583..       MOV     ?V0 + 1,DPH
   \   000058   78..         MOV     R0,#?V0 + 0
   \   00005A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005D                ; Setup parameters for call to function osal_strlen
   \   00005D   7411         MOV     A,#0x11
   \   00005F   12....       LCALL   ?XSTACK_DISP0_8
   \   000062   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_61:
   \   000065   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000068   75..01       MOV     ?V0 + 0,#0x1
   \   00006B   75..00       MOV     ?V0 + 1,#0x0
   \   00006E   78..         MOV     R0,#?V0 + 0
   \   000070   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000073   7920         MOV     R1,#0x20
   \   000075   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   000077   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000079   7409         MOV     A,#0x9
   \   00007B   12....       LCALL   ?XSTACK_DISP0_8
   \   00007E   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   000081   12....       LCALL   ?DEALLOC_XSTACK8
   \   000084   E9           MOV     A,R1
   \   000085   6016         JZ      ??processReportNames_0
    581            {
    582              // Successfully requested to be sent.
    583            }
    584            else
    585            {
    586              printf("send ReportNamesResp error %s\n", buf);
   \   000087                ; Setup parameters for call to function printf
   \   000087   740C         MOV     A,#0xc
   \   000089   12....       LCALL   ?XSTACK_DISP0_8
   \   00008C   8582..       MOV     ?V0 + 0,DPL
   \   00008F   8583..       MOV     ?V0 + 1,DPH
   \   000092   78..         MOV     R0,#?V0 + 0
   \   000094   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000097   12....       LCALL   ?Subroutine14 & 0xFFFF
    587            }
   \                     ??CrossCallReturnLabel_52:
   \   00009A   12....       LCALL   ?DEALLOC_XSTACK8
    588            
    589          }
   \                     ??processReportNames_0:
   \   00009D   02....       LJMP    ?Subroutine0 & 0xFFFF
    590          /*********************************************************************
    591           * Event Generation Functions
    592           */
    593          
    594          /*********************************************************************
    595           * @fn      GenericApp_ProcessZDOMsgs()
    596           *
    597           * @brief   Process response messages
    598           *
    599           * @param   none
    600           *
    601           * @return  none
    602           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    603          void GenericApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg )
   \                     GenericApp_ProcessZDOMsgs:
    604          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    605            
    606            switch ( inMsg->clusterID )
   \   000005   EA           MOV     A,R2
   \   000006   240C         ADD     A,#0xc
   \   000008   F582         MOV     DPL,A
   \   00000A   EB           MOV     A,R3
   \   00000B   3400         ADDC    A,#0x0
   \   00000D   F583         MOV     DPH,A
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   F5..         MOV     ?V0 + 0,A
   \   000012   A3           INC     DPTR
   \   000013   E0           MOVX    A,@DPTR
   \   000014   F5..         MOV     ?V0 + 1,A
   \   000016   78..         MOV     R0,#?V0 + 0
   \   000018   12....       LCALL   ?US_SWITCH_SPARSE
   \                     `?<Jumptable for GenericApp_ProcessZDOMsgs>_0`:
   \   00001B   0000         DW        0
   \   00001D   0200         DW        2
   \   00001F   0680         DW        32774
   \   000021   ....         DW        ??GenericApp_ProcessZDOMsgs_0
   \   000023   2080         DW        32800
   \   000025   ....         DW        ??GenericApp_ProcessZDOMsgs_1
   \   000027   ....         DW        ??GenericApp_ProcessZDOMsgs_2
    607            {
    608              case End_Device_Bind_rsp:
    609                if ( ZDO_ParseBindRsp( inMsg ) == ZSuccess )
   \                     ??GenericApp_ProcessZDOMsgs_1:
   \   000029   EA           MOV     A,R2
   \   00002A   2413         ADD     A,#0x13
   \   00002C   F582         MOV     DPL,A
   \   00002E   EB           MOV     A,R3
   \   00002F   3400         ADDC    A,#0x0
   \   000031   F583         MOV     DPH,A
   \   000033   E0           MOVX    A,@DPTR
   \   000034   F8           MOV     R0,A
   \   000035   A3           INC     DPTR
   \   000036   E0           MOVX    A,@DPTR
   \   000037   F583         MOV     DPH,A
   \   000039   8882         MOV     DPL,R0
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   7009         JNZ     ??GenericApp_ProcessZDOMsgs_3
    610                {
    611                  // Light LED
    612                  HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
   \   00003E                ; Setup parameters for call to function HalLedSet
   \   00003E   7A01         MOV     R2,#0x1
   \                     ??GenericApp_ProcessZDOMsgs_4:
   \   000040   7908         MOV     R1,#0x8
   \   000042   12....       LCALL   ??HalLedSet?relay
   \   000045   804B         SJMP    ??GenericApp_ProcessZDOMsgs_2
    613                }
    614          #if defined(BLINK_LEDS)
    615                else
    616                {
    617                  // Flash LED to show failure
    618                  HalLedSet ( HAL_LED_4, HAL_LED_MODE_FLASH );
   \                     ??GenericApp_ProcessZDOMsgs_3:
   \   000047                ; Setup parameters for call to function HalLedSet
   \   000047   7A04         MOV     R2,#0x4
   \   000049   80F5         SJMP    ??GenericApp_ProcessZDOMsgs_4
    619                }
    620          #endif
    621                break;
    622          
    623              case Match_Desc_rsp:
    624                {
    625                  ZDO_ActiveEndpointRsp_t *pRsp = ZDO_ParseEPListRsp( inMsg );
   \                     ??GenericApp_ProcessZDOMsgs_0:
   \   00004B                ; Setup parameters for call to function ZDO_ParseEPListRsp
   \   00004B   12....       LCALL   ??ZDO_ParseEPListRsp?relay
   \   00004E   8A..         MOV     ?V0 + 0,R2
   \   000050   8B..         MOV     ?V0 + 1,R3
   \   000052   AE..         MOV     R6,?V0 + 0
   \   000054   AF..         MOV     R7,?V0 + 1
    626                  if ( pRsp )
   \   000056   EE           MOV     A,R6
   \   000057   4F           ORL     A,R7
   \   000058   6038         JZ      ??GenericApp_ProcessZDOMsgs_2
    627                  {
    628                    if ( pRsp->status == ZSuccess && pRsp->cnt )
   \   00005A   8E82         MOV     DPL,R6
   \   00005C   8F83         MOV     DPH,R7
   \   00005E   E0           MOVX    A,@DPTR
   \   00005F   702A         JNZ     ??GenericApp_ProcessZDOMsgs_5
   \   000061   A3           INC     DPTR
   \   000062   A3           INC     DPTR
   \   000063   A3           INC     DPTR
   \   000064   E0           MOVX    A,@DPTR
   \   000065   6024         JZ      ??GenericApp_ProcessZDOMsgs_5
    629                    {
    630                      GenericApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   000067   90....       MOV     DPTR,#GenericApp_DstAddr + 8
   \   00006A   7402         MOV     A,#0x2
   \   00006C   F0           MOVX    @DPTR,A
    631                      GenericApp_DstAddr.addr.shortAddr = pRsp->nwkAddr;
   \   00006D   8E82         MOV     DPL,R6
   \   00006F   8F83         MOV     DPH,R7
   \   000071   A3           INC     DPTR
   \   000072   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   000075   90....       MOV     DPTR,#GenericApp_DstAddr
   \   000078   E8           MOV     A,R0
   \   000079   F0           MOVX    @DPTR,A
   \   00007A   A3           INC     DPTR
   \   00007B   E9           MOV     A,R1
   \   00007C   12....       LCALL   ?Subroutine19 & 0xFFFF
    632                      // Take the first endpoint, Can be changed to search through endpoints
    633                      GenericApp_DstAddr.endPoint = pRsp->epList[0];
   \                     ??CrossCallReturnLabel_44:
   \   00007F   E0           MOVX    A,@DPTR
   \   000080   90....       MOV     DPTR,#GenericApp_DstAddr + 9
   \   000083   F0           MOVX    @DPTR,A
    634          
    635                      // Light LED
    636                      HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
   \   000084                ; Setup parameters for call to function HalLedSet
   \   000084   7A01         MOV     R2,#0x1
   \   000086   7908         MOV     R1,#0x8
   \   000088   12....       LCALL   ??HalLedSet?relay
    637                    }
    638                    osal_mem_free( pRsp );
   \                     ??GenericApp_ProcessZDOMsgs_5:
   \   00008B                ; Setup parameters for call to function osal_mem_free
   \   00008B   EE           MOV     A,R6
   \   00008C   FA           MOV     R2,A
   \   00008D   EF           MOV     A,R7
   \   00008E   FB           MOV     R3,A
   \   00008F   12....       LCALL   ??osal_mem_free?relay
    639                  }
    640                }
    641                break;
    642            }
    643          }
   \                     ??GenericApp_ProcessZDOMsgs_2:
   \   000092   80..         SJMP    ??Subroutine25_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine25_0:
   \   000000   7F02         MOV     R7,#0x2
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    644          
    645          void turnOffLightLater(void);
    646          void turnOnLight(void);
    647          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    648          void turnOffLightLater(void)
   \                     turnOffLightLater:
    649          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 48
   \   000004   74D0         MOV     A,#-0x30
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
    650                  char buf[48];
    651                  sprintf(buf, "%04X LightOffLater 0040", lightShortAddr);    
   \   000009                ; Setup parameters for call to function sprintf
   \   000009   90....       MOV     DPTR,#lightShortAddr
   \   00000C   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00000F   7C..         MOV     R4,#`?<Constant "%04X LightOffLater 0040">` & 0xff
   \   000011   7D..         MOV     R5,#(`?<Constant "%04X LightOffLater 0040">` >> 8) & 0xff
   \   000013   02....       LJMP    ?Subroutine2 & 0xFFFF
    652                  sendSendCmdMsg((uint8*)buf);
    653            
    654          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7402         MOV     A,#0x2
   \   000002   12....       LCALL   ?XSTACK_DISP0_8
   \   000005   AA82         MOV     R2,DPL
   \   000007   AB83         MOV     R3,DPH
   \   000009   12....       LCALL   ??sprintf?relay
   \   00000C   7402         MOV     A,#0x2
   \   00000E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000011                ; Setup parameters for call to function sendSendCmdMsg
   \   000011                ; Setup parameters for call to function sendSendCmdMsg
   \   000011   85..82       MOV     DPL,?XSP + 0
   \   000014   85..83       MOV     DPH,?XSP + 1
   \   000017   AA82         MOV     R2,DPL
   \   000019   AB83         MOV     R3,DPH
   \   00001B   12....       LCALL   ??sendSendCmdMsg?relay
   \   00001E   7430         MOV     A,#0x30
   \   000020   12....       LCALL   ?DEALLOC_XSTACK8
   \   000023                REQUIRE ??Subroutine28_0
   \   000023                ; // Fall through to label ??Subroutine28_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine28_0:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
    655          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    656          void turnOnLight(void)
   \                     turnOnLight:
    657          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 48
   \   000004   74D0         MOV     A,#-0x30
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
    658                    char buf[48];
    659                   sprintf(buf, "%04X LightOn", lightShortAddr);
   \   000009                ; Setup parameters for call to function sprintf
   \   000009   90....       MOV     DPTR,#lightShortAddr
   \   00000C   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00000F   7C..         MOV     R4,#`?<Constant "%04X LightOn">` & 0xff
   \   000011   7D..         MOV     R5,#(`?<Constant "%04X LightOn">` >> 8) & 0xff
   \   000013   02....       LJMP    ?Subroutine2 & 0xFFFF
    660              
    661                   sendSendCmdMsg((uint8*)buf);
    662           
    663            
    664          }
    665          
    666          /*********************************************************************
    667           * @fn      GenericApp_HandleKeys
    668           *
    669           * @brief   Handles all key events for this device.
    670           *
    671           * @param   shift - true if in shift/alt.
    672           * @param   keys - bit field for key events. Valid entries:
    673           *                 HAL_KEY_SW_4
    674           *                 HAL_KEY_SW_3
    675           *                 HAL_KEY_SW_2
    676           *                 HAL_KEY_SW_1
    677           *
    678           * @return  none
    679           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    680          void GenericApp_HandleKeys( byte shift, byte keys )
   \                     GenericApp_HandleKeys:
    681          {
   \   000000   74F3         MOV     A,#-0xd
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 13
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 4,R2
    682              if ( keys & HAL_KEY_SW_1 )
   \   000007   EA           MOV     A,R2
   \   000008   A2E0         MOV     C,0xE0 /* A   */.0
   \   00000A   5007         JNC     ??GenericApp_HandleKeys_0
    683              {
    684                printf("S1 pressed\n");
   \   00000C                ; Setup parameters for call to function printf
   \   00000C   7A..         MOV     R2,#`?<Constant "S1 pressed\\n">` & 0xff
   \   00000E   7B..         MOV     R3,#(`?<Constant "S1 pressed\\n">` >> 8) & 0xff
   \   000010   12....       LCALL   ??printf?relay
    685              }
    686          
    687              if ( keys & HAL_KEY_SW_2 )
   \                     ??GenericApp_HandleKeys_0:
   \   000013   E5..         MOV     A,?V0 + 4
   \   000015   A2E1         MOV     C,0xE0 /* A   */.1
   \   000017   5007         JNC     ??GenericApp_HandleKeys_1
    688              {
    689                printf("S2 pressed\n");
   \   000019                ; Setup parameters for call to function printf
   \   000019   7A..         MOV     R2,#`?<Constant "S2 pressed\\n">` & 0xff
   \   00001B   7B..         MOV     R3,#(`?<Constant "S2 pressed\\n">` >> 8) & 0xff
   \   00001D   12....       LCALL   ??printf?relay
    690              }
    691              
    692              if (!isLightController) {
   \                     ??GenericApp_HandleKeys_1:
   \   000020   90....       MOV     DPTR,#isLightController
   \   000023   E0           MOVX    A,@DPTR
   \   000024   7053         JNZ     ??GenericApp_HandleKeys_2
    693                
    694                uint8* myName = (uint8*)getMyName();
   \   000026                ; Setup parameters for call to function getMyName
   \   000026   12....       LCALL   ??getMyName?relay
   \   000029   8A..         MOV     ?V0 + 0,R2
   \   00002B   8B..         MOV     ?V0 + 1,R3
   \   00002D   AE..         MOV     R6,?V0 + 0
   \   00002F   AF..         MOV     R7,?V0 + 1
    695                
    696                if (keys & HAL_KEY_DATA_LOW) {
   \   000031   75....       MOV     ?V0 + 0,#`?<Constant "RestroomSensor">` & 0xff
   \   000034   75....       MOV     ?V0 + 1,#(`?<Constant "RestroomSensor">` >> 8) & 0xff
   \   000037   75....       MOV     ?V0 + 2,#`?<Constant "DoorSensor">` & 0xff
   \   00003A   75....       MOV     ?V0 + 3,#(`?<Constant "DoorSensor">` >> 8) & 0xff
   \   00003D   E5..         MOV     A,?V0 + 4
   \   00003F   A2E5         MOV     C,0xE0 /* A   */.5
   \   000041   5018         JNC     ??GenericApp_HandleKeys_3
    697                  printf("DataLow pressed\n");
   \   000043                ; Setup parameters for call to function printf
   \   000043   7A..         MOV     R2,#`?<Constant "DataLow pressed\\n">` & 0xff
   \   000045   7B..         MOV     R3,#(`?<Constant "DataLow pressed\\n">` >> 8) & 0xff
   \   000047   12....       LCALL   ?Subroutine8 & 0xFFFF
    698                  if (strStartWith(myName, "DoorSensor")) {
   \                     ??CrossCallReturnLabel_64:
   \   00004A   6003         JZ      ??GenericApp_HandleKeys_4
    699                    turnOffLightLater();    
   \   00004C                ; Setup parameters for call to function turnOffLightLater
   \   00004C   12....       LCALL   ??turnOffLightLater?relay
    700                  }
    701                  
    702                  
    703                  if (strStartWith(myName, "RestroomSensor")) {
   \                     ??GenericApp_HandleKeys_4:
   \   00004F                ; Setup parameters for call to function strStartWith
   \   00004F   AC..         MOV     R4,?V0 + 0
   \   000051   AD..         MOV     R5,?V0 + 1
   \   000053   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_66:
   \   000056   6003         JZ      ??GenericApp_HandleKeys_3
    704                    turnOnLight();
   \   000058                ; Setup parameters for call to function turnOnLight
   \   000058   12....       LCALL   ??turnOnLight?relay
    705                  }
    706                }
    707                
    708                if (keys & HAL_KEY_DATA_HIGH) {
   \                     ??GenericApp_HandleKeys_3:
   \   00005B   E5..         MOV     A,?V0 + 4
   \   00005D   A2E4         MOV     C,0xE0 /* A   */.4
   \   00005F   5018         JNC     ??GenericApp_HandleKeys_2
    709                   printf("DataHigh pressed\n");
   \   000061                ; Setup parameters for call to function printf
   \   000061   7A..         MOV     R2,#`?<Constant "DataHigh pressed\\n">` & 0xff
   \   000063   7B..         MOV     R3,#(`?<Constant "DataHigh pressed\\n">` >> 8) & 0xff
   \   000065   12....       LCALL   ?Subroutine8 & 0xFFFF
    710                  if (strStartWith(myName, "DoorSensor")) {
   \                     ??CrossCallReturnLabel_65:
   \   000068   6003         JZ      ??GenericApp_HandleKeys_5
    711                    turnOnLight();
   \   00006A                ; Setup parameters for call to function turnOnLight
   \   00006A   12....       LCALL   ??turnOnLight?relay
    712                  }
    713                  
    714                   if (strStartWith(myName, "RestroomSensor")) {
   \                     ??GenericApp_HandleKeys_5:
   \   00006D                ; Setup parameters for call to function strStartWith
   \   00006D   AC..         MOV     R4,?V0 + 0
   \   00006F   AD..         MOV     R5,?V0 + 1
   \   000071   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_67:
   \   000074   6003         JZ      ??GenericApp_HandleKeys_2
    715                    turnOffLightLater();
   \   000076                ; Setup parameters for call to function turnOffLightLater
   \   000076   12....       LCALL   ??turnOffLightLater?relay
    716                  }
    717                }    
    718              }
    719          }
   \                     ??GenericApp_HandleKeys_2:
   \   000079   7F05         MOV     R7,#0x5
   \   00007B   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   12....       LCALL   ??printf?relay
   \   000003                ; Setup parameters for call to function strStartWith
   \   000003                ; Setup parameters for call to function strStartWith
   \   000003   AC..         MOV     R4,?V0 + 2
   \   000005   AD..         MOV     R5,?V0 + 3
   \   000007                REQUIRE ??Subroutine26_0
   \   000007                ; // Fall through to label ??Subroutine26_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine26_0:
   \   000000   EE           MOV     A,R6
   \   000001   FA           MOV     R2,A
   \   000002   EF           MOV     A,R7
   \   000003   FB           MOV     R3,A
   \   000004                REQUIRE ??Subroutine27_0
   \   000004                ; // Fall through to label ??Subroutine27_0
    720          
    721          /*********************************************************************
    722           * LOCAL FUNCTIONS
    723           */
    724          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    725          static uint8 strStartWith(uint8* str1, uint8* str2)
   \                     strStartWith:
    726          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004   800E         SJMP    ??strStartWith_0
    727            while (*str2) {
    728              if (*str1 != *str2) {
    729                return 0;
    730              }
    731              str1++;
   \                     ??strStartWith_1:
   \   000006   A3           INC     DPTR
   \   000007   AA82         MOV     R2,DPL
   \   000009   AB83         MOV     R3,DPH
    732              str2++;
   \   00000B   8C82         MOV     DPL,R4
   \   00000D   8D83         MOV     DPH,R5
   \   00000F   A3           INC     DPTR
   \   000010   AC82         MOV     R4,DPL
   \   000012   AD83         MOV     R5,DPH
   \                     ??strStartWith_0:
   \   000014   8C82         MOV     DPL,R4
   \   000016   8D83         MOV     DPH,R5
   \   000018   E0           MOVX    A,@DPTR
   \   000019   F8           MOV     R0,A
   \   00001A   600C         JZ      ??strStartWith_2
   \   00001C   8A82         MOV     DPL,R2
   \   00001E   8B83         MOV     DPH,R3
   \   000020   E0           MOVX    A,@DPTR
   \   000021   68           XRL     A,R0
   \   000022   60E2         JZ      ??strStartWith_1
   \   000024   7900         MOV     R1,#0x0
   \   000026   8002         SJMP    ??strStartWith_3
    733            }
    734            return 1;
   \                     ??strStartWith_2:
   \   000028   7901         MOV     R1,#0x1
   \                     ??strStartWith_3:
   \   00002A   80..         SJMP    ??Subroutine28_0
    735          }
    736          
    737          /*********************************************************************
    738           * @fn      GenericApp_MessageMSGCB
    739           *
    740           * @brief   Data message processor callback.  This function processes
    741           *          any incoming data - probably from other devices.  So, based
    742           *          on cluster ID, perform the intended action.
    743           *
    744           * @param   none
    745           *
    746           * @return  none
    747           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    748          void GenericApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
   \                     GenericApp_MessageMSGCB:
    749          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
    750               
    751            switch ( pkt->clusterId )
   \   000009   8A82         MOV     DPL,R2
   \   00000B   8B83         MOV     DPH,R3
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   A3           INC     DPTR
   \   000011   E0           MOVX    A,@DPTR
   \   000012   6401         XRL     A,#0x1
   \   000014   7002         JNZ     ??GenericApp_MessageMSGCB_0
   \   000016   A3           INC     DPTR
   \   000017   E0           MOVX    A,@DPTR
   \                     ??GenericApp_MessageMSGCB_0:
   \   000018   6003         JZ      $+5
   \   00001A   02....       LJMP    ??GenericApp_MessageMSGCB_1 & 0xFFFF
    752            {
    753              case GENERICAPP_CLUSTERID:
    754                
    755                printf("process Cmd: %s\n", pkt->cmd.Data);
   \   00001D   EA           MOV     A,R2
   \   00001E   2421         ADD     A,#0x21
   \   000020   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_34:
   \   000023   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000026   7A..         MOV     R2,#`?<Constant "process Cmd: %s\\n">` & 0xff
   \   000028   7B..         MOV     R3,#(`?<Constant "process Cmd: %s\\n">` >> 8) & 0xff
   \   00002A   12....       LCALL   ??Subroutine21_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   00002D   12....       LCALL   ?DEALLOC_XSTACK8
    756                
    757                uint8* cmdData = pkt->cmd.Data;
   \   000030   8E82         MOV     DPL,R6
   \   000032   8F83         MOV     DPH,R7
   \   000034   E0           MOVX    A,@DPTR
   \   000035   FE           MOV     R6,A
   \   000036   A3           INC     DPTR
   \   000037   E0           MOVX    A,@DPTR
   \   000038   FF           MOV     R7,A
    758                
    759                if (strStartWith(cmdData, "ReportNamesResp")) {
   \   000039                ; Setup parameters for call to function strStartWith
   \   000039   7C..         MOV     R4,#`?<Constant "ReportNamesResp">` & 0xff
   \   00003B   7D..         MOV     R5,#(`?<Constant "ReportNamesResp">` >> 8) & 0xff
   \   00003D   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   000040   707C         JNZ     ??GenericApp_MessageMSGCB_1
    760                  // nothing to do
    761                  
    762                } else if (strStartWith(cmdData, "ReportNames")) {
   \   000042                ; Setup parameters for call to function strStartWith
   \   000042   7C..         MOV     R4,#`?<Constant "ReportNames">` & 0xff
   \   000044   7D..         MOV     R5,#(`?<Constant "ReportNames">` >> 8) & 0xff
   \   000046   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_69:
   \   000049   6009         JZ      ??GenericApp_MessageMSGCB_2
    763                   processReportNames(pkt);
   \   00004B                ; Setup parameters for call to function processReportNames
   \   00004B   AA..         MOV     R2,?V0 + 0
   \   00004D   AB..         MOV     R3,?V0 + 1
   \   00004F   12....       LCALL   ??processReportNames?relay
   \   000052   806A         SJMP    ??GenericApp_MessageMSGCB_1
    764                } else if (strStartWith(cmdData, "LightOnResp")) {
   \                     ??GenericApp_MessageMSGCB_2:
   \   000054                ; Setup parameters for call to function strStartWith
   \   000054   7C..         MOV     R4,#`?<Constant "LightOnResp">` & 0xff
   \   000056   7D..         MOV     R5,#(`?<Constant "LightOnResp">` >> 8) & 0xff
   \   000058   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   00005B   7061         JNZ     ??GenericApp_MessageMSGCB_1
    765                  // nothing to do
    766                } else if (strStartWith(cmdData, "LightOn")) {
   \   00005D                ; Setup parameters for call to function strStartWith
   \   00005D   7C..         MOV     R4,#`?<Constant "LightOn">` & 0xff
   \   00005F   7D..         MOV     R5,#(`?<Constant "LightOn">` >> 8) & 0xff
   \   000061   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_71:
   \   000064   6009         JZ      ??GenericApp_MessageMSGCB_3
    767                   processLightOn(pkt);
   \   000066                ; Setup parameters for call to function processLightOn
   \   000066   AA..         MOV     R2,?V0 + 0
   \   000068   AB..         MOV     R3,?V0 + 1
   \   00006A   12....       LCALL   ??processLightOn?relay
   \   00006D   804F         SJMP    ??GenericApp_MessageMSGCB_1
    768                } else if (strStartWith(cmdData, "LightOffLaterResp")) {
   \                     ??GenericApp_MessageMSGCB_3:
   \   00006F                ; Setup parameters for call to function strStartWith
   \   00006F   7C..         MOV     R4,#`?<Constant "LightOffLaterResp">` & 0xff
   \   000071   7D..         MOV     R5,#(`?<Constant "LightOffLaterResp">` >> 8) & 0xff
   \   000073   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_72:
   \   000076   7046         JNZ     ??GenericApp_MessageMSGCB_1
    769                  // nothing to do
    770                } else if (strStartWith(cmdData, "LightOffLater")) { // LightOffLater 0040
   \   000078                ; Setup parameters for call to function strStartWith
   \   000078   7C..         MOV     R4,#`?<Constant "LightOffLater">` & 0xff
   \   00007A   7D..         MOV     R5,#(`?<Constant "LightOffLater">` >> 8) & 0xff
   \   00007C   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_73:
   \   00007F   6009         JZ      ??GenericApp_MessageMSGCB_4
    771                   processLightOffLater(pkt);
   \   000081                ; Setup parameters for call to function processLightOffLater
   \   000081   AA..         MOV     R2,?V0 + 0
   \   000083   AB..         MOV     R3,?V0 + 1
   \   000085   12....       LCALL   ??processLightOffLater?relay
   \   000088   8034         SJMP    ??GenericApp_MessageMSGCB_1
    772                } else if (strStartWith(cmdData, "LightToggleResp")) {
   \                     ??GenericApp_MessageMSGCB_4:
   \   00008A                ; Setup parameters for call to function strStartWith
   \   00008A   7C..         MOV     R4,#`?<Constant "LightToggleResp">` & 0xff
   \   00008C   7D..         MOV     R5,#(`?<Constant "LightToggleResp">` >> 8) & 0xff
   \   00008E   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_74:
   \   000091   702B         JNZ     ??GenericApp_MessageMSGCB_1
    773                  // nothing to do
    774                } else if (strStartWith(cmdData, "LightToggle")) {
   \   000093                ; Setup parameters for call to function strStartWith
   \   000093   7C..         MOV     R4,#`?<Constant "LightToggle">` & 0xff
   \   000095   7D..         MOV     R5,#(`?<Constant "LightToggle">` >> 8) & 0xff
   \   000097   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_75:
   \   00009A   6009         JZ      ??GenericApp_MessageMSGCB_5
    775                   processLightToggle(pkt);
   \   00009C                ; Setup parameters for call to function processLightToggle
   \   00009C   AA..         MOV     R2,?V0 + 0
   \   00009E   AB..         MOV     R3,?V0 + 1
   \   0000A0   12....       LCALL   ??processLightToggle?relay
   \   0000A3   8019         SJMP    ??GenericApp_MessageMSGCB_1
    776                } else if (strStartWith(cmdData, "LightOffResp")) {
   \                     ??GenericApp_MessageMSGCB_5:
   \   0000A5                ; Setup parameters for call to function strStartWith
   \   0000A5   7C..         MOV     R4,#`?<Constant "LightOffResp">` & 0xff
   \   0000A7   7D..         MOV     R5,#(`?<Constant "LightOffResp">` >> 8) & 0xff
   \   0000A9   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   0000AC   7010         JNZ     ??GenericApp_MessageMSGCB_1
    777                  // nothing to do
    778                } else if (strStartWith(cmdData, "LightOff")) {
   \   0000AE                ; Setup parameters for call to function strStartWith
   \   0000AE   7C..         MOV     R4,#`?<Constant "LightOff">` & 0xff
   \   0000B0   7D..         MOV     R5,#(`?<Constant "LightOff">` >> 8) & 0xff
   \   0000B2   12....       LCALL   ??Subroutine26_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   0000B5   6007         JZ      ??GenericApp_MessageMSGCB_1
    779                   processLightOff(pkt);
   \   0000B7                ; Setup parameters for call to function processLightOff
   \   0000B7   AA..         MOV     R2,?V0 + 0
   \   0000B9   AB..         MOV     R3,?V0 + 1
   \   0000BB   12....       LCALL   ??processLightOff?relay
    780                }
    781                break;
    782            }
    783          }
   \                     ??GenericApp_MessageMSGCB_1:
   \   0000BE   02....       LJMP    ??Subroutine25_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   F8           MOV     R0,A
   \   000001   EB           MOV     A,R3
   \   000002   3400         ADDC    A,#0x0
   \   000004   F9           MOV     R1,A
   \   000005   E8           MOV     A,R0
   \   000006   FE           MOV     R6,A
   \   000007   E9           MOV     A,R1
   \   000008   FF           MOV     R7,A
   \   000009                ; Setup parameters for call to function printf
   \   000009   8E82         MOV     DPL,R6
   \   00000B   8F83         MOV     DPH,R7
   \   00000D   22           RET
    784          
    785          /*********************************************************************
    786           * @fn      GenericApp_SendTheMessage
    787           *
    788           * @brief   Send "the" message.
    789           *
    790           * @param   none
    791           *
    792           * @return  none
    793           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine25_0
   \   000003                ; // Fall through to label ??Subroutine25_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    794          void GenericApp_SendTheMessage( void )
   \                     GenericApp_SendTheMessage:
    795          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV     A,#-0xc
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    796            afAddrType_t P2P_DstAddr;
    797            P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00000A   7408         MOV     A,#0x8
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   7402         MOV     A,#0x2
   \   000011   F0           MOVX    @DPTR,A
    798            P2P_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000012   7409         MOV     A,#0x9
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   12....       LCALL   ?Subroutine5 & 0xFFFF
    799            P2P_DstAddr.addr.shortAddr = 0xFFFF; //ÖÕ¶Ë¶ÌµØÖ·ÔÚLCDÉÏÓÐÏÔÊ¾£¬´Ë´¦»»³ÉÖÕ¶Ë¶ÌµØÖ·¾Í¿ÉÒÔµã²¥ÁË¡£
    800          
    801            if ( AF_DataRequest( &P2P_DstAddr, &GenericApp_epDesc,
    802                                 GENERICAPP_CLUSTERID,
    803                                 1,
    804                                 RxBuf,
    805                                 &GenericApp_TransID,
    806                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \                     ??CrossCallReturnLabel_7:
   \   00001A                ; Setup parameters for call to function AF_DataRequest
   \   00001A   75..1E       MOV     ?V0 + 0,#0x1e
   \   00001D   78..         MOV     R0,#?V0 + 0
   \   00001F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000022   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   000025   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   000028   78..         MOV     R0,#?V0 + 0
   \   00002A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002D   75....       MOV     ?V0 + 0,#RxBuf & 0xff
   \   000030   75....       MOV     ?V0 + 1,#(RxBuf >> 8) & 0xff
   \   000033   78..         MOV     R0,#?V0 + 0
   \   000035   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000038   75..01       MOV     ?V0 + 0,#0x1
   \   00003B   75..00       MOV     ?V0 + 1,#0x0
   \   00003E   78..         MOV     R0,#?V0 + 0
   \   000040   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000043   78..         MOV     R0,#?V0 + 0
   \   000045   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000048   7920         MOV     R1,#0x20
   \   00004A   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   00004C   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   00004E   7409         MOV     A,#0x9
   \   000050   12....       LCALL   ?XSTACK_DISP0_8
   \   000053   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_31:
   \   000056   12....       LCALL   ?DEALLOC_XSTACK8
    807            {
    808              // Successfully requested to be sent.
    809            }
    810            else
    811            {
    812              // Error occurred in request to send.
    813            }
    814          }
   \   000059   740C         MOV     A,#0xc
   \   00005B   02....       LJMP    ?Subroutine1 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   740A         MOV     A,#0xa
   \   000002   F0           MOVX    @DPTR,A
   \   000003   85..82       MOV     DPL,?XSP + 0
   \   000006   85..83       MOV     DPH,?XSP + 1
   \   000009   74FF         MOV     A,#-0x1
   \   00000B   F0           MOVX    @DPTR,A
   \   00000C   A3           INC     DPTR
   \   00000D   F0           MOVX    @DPTR,A
   \   00000E   22           RET
    815          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    816          void sendReportNamesMsg(void)
   \                     sendReportNamesMsg:
    817          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 24
   \   000005   74E8         MOV     A,#-0x18
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    818            afAddrType_t P2P_DstAddr;
    819            P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00000A   7408         MOV     A,#0x8
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   7402         MOV     A,#0x2
   \   000011   F0           MOVX    @DPTR,A
    820            P2P_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000012   7409         MOV     A,#0x9
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   12....       LCALL   ?Subroutine5 & 0xFFFF
    821            P2P_DstAddr.addr.shortAddr = 0xFFFF; //ÖÕ¶Ë¶ÌµØÖ·ÔÚLCDÉÏÓÐÏÔÊ¾£¬´Ë´¦»»³ÉÖÕ¶Ë¶ÌµØÖ·¾Í¿ÉÒÔµã²¥ÁË¡£
    822            char cmd[] = "ReportNames";
   \                     ??CrossCallReturnLabel_8:
   \   00001A   740C         MOV     A,#0xc
   \   00001C   12....       LCALL   ?XSTACK_DISP0_8
   \   00001F   AC82         MOV     R4,DPL
   \   000021   AD83         MOV     R5,DPH
   \   000023   7583..       MOV     DPH,#(`?<Constant "ReportNames">_1` >> 8) & 0xff
   \   000026   7582..       MOV     DPL,#`?<Constant "ReportNames">_1` & 0xff
   \   000029   740C         MOV     A,#0xc
   \   00002B   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    823              
    824            if ( AF_DataRequest( &P2P_DstAddr, &GenericApp_epDesc,
    825                                 GENERICAPP_CLUSTERID,
    826                                 osal_strlen(cmd)+1,
    827                                 (uint8*)cmd,
    828                                 &GenericApp_TransID,
    829                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   00002E                ; Setup parameters for call to function AF_DataRequest
   \   00002E   75..1E       MOV     ?V0 + 0,#0x1e
   \   000031   78..         MOV     R0,#?V0 + 0
   \   000033   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000036   75....       MOV     ?V0 + 0,#GenericApp_TransID & 0xff
   \   000039   75....       MOV     ?V0 + 1,#(GenericApp_TransID >> 8) & 0xff
   \   00003C   78..         MOV     R0,#?V0 + 0
   \   00003E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000041   740F         MOV     A,#0xf
   \   000043   12....       LCALL   ?XSTACK_DISP0_8
   \   000046   8582..       MOV     ?V0 + 0,DPL
   \   000049   8583..       MOV     ?V0 + 1,DPH
   \   00004C   78..         MOV     R0,#?V0 + 0
   \   00004E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000051                ; Setup parameters for call to function osal_strlen
   \   000051   7411         MOV     A,#0x11
   \   000053   12....       LCALL   ?XSTACK_DISP0_8
   \   000056   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_62:
   \   000059   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005C   75..01       MOV     ?V0 + 0,#0x1
   \   00005F   75..00       MOV     ?V0 + 1,#0x0
   \   000062   78..         MOV     R0,#?V0 + 0
   \   000064   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000067   7920         MOV     R1,#0x20
   \   000069   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   00006B   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   00006D   7409         MOV     A,#0x9
   \   00006F   12....       LCALL   ?XSTACK_DISP0_8
   \   000072   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   000075   12....       LCALL   ?DEALLOC_XSTACK8
   \   000078   E9           MOV     A,R1
   \   000079   6007         JZ      ??sendReportNamesMsg_0
    830            {
    831              // Successfully requested to be sent.
    832            }
    833            else
    834            {
    835              printf("send ReportNames error\n");
   \   00007B                ; Setup parameters for call to function printf
   \   00007B   7A..         MOV     R2,#`?<Constant "send ReportNames error\\n">` & 0xff
   \   00007D   7B..         MOV     R3,#(`?<Constant "send ReportNames error\\n">` >> 8) & 0xff
   \   00007F   12....       LCALL   ??printf?relay
    836            }
    837          }
   \                     ??sendReportNamesMsg_0:
   \   000082   7418         MOV     A,#0x18
   \   000084   02....       LJMP    ?Subroutine1 & 0xFFFF
    838          
    839          static uint16 findHexValue(uint8 ch);
    840          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    841          uint16 findHexValue(uint8 ch)
   \                     findHexValue:
    842          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    843            switch(ch) {
   \   000004   8982         MOV     DPL,R1
   \   000006   AA82         MOV     R2,DPL
   \   000008   E9           MOV     A,R1
   \   000009   12....       LCALL   ?UC_SWITCH_SPARSE
   \                     `?<Jumptable for findHexValue>_0`:
   \   00000C   03           DB        3
   \   00000D   30           DB        48
   \   00000E   39           DB        57
   \   00000F   ....         DW        ??findHexValue_0
   \   000011   41           DB        65
   \   000012   46           DB        70
   \   000013   ....         DW        ??findHexValue_1
   \   000015   61           DB        97
   \   000016   66           DB        102
   \   000017   ....         DW        ??findHexValue_2
   \   000019   00           DB        0
   \   00001A   ....         DW        ??findHexValue_3
    844            case '0':
    845            case '1':
    846            case '2':
    847            case '3':
    848            case '4':
    849            case '5':
    850            case '6':
    851            case '7':
    852            case '8':
    853            case '9':
    854              return ch - '0';
   \                     ??findHexValue_0:
   \   00001C   EA           MOV     A,R2
   \   00001D   24D0         ADD     A,#-0x30
   \                     ??findHexValue_4:
   \   00001F   FA           MOV     R2,A
   \   000020   E4           CLR     A
   \   000021   34FF         ADDC    A,#-0x1
   \   000023   FB           MOV     R3,A
   \   000024   8013         SJMP    ??findHexValue_5
    855            case 'A':
    856            case 'B':
    857            case 'C':
    858            case 'D':
    859            case 'E':
    860            case 'F':
    861              return ch - 'A' + 10;
   \                     ??findHexValue_1:
   \   000026   EA           MOV     A,R2
   \   000027   24C9         ADD     A,#-0x37
   \   000029   80F4         SJMP    ??findHexValue_4
    862            case 'a':
    863            case 'b':
    864            case 'c':
    865            case 'd':
    866            case 'e':
    867            case 'f':
    868              return ch - 'a' + 10;
   \                     ??findHexValue_2:
   \   00002B   EA           MOV     A,R2
   \   00002C   24A9         ADD     A,#-0x57
   \   00002E   FA           MOV     R2,A
   \   00002F   E4           CLR     A
   \   000030   34FF         ADDC    A,#-0x1
   \   000032   FB           MOV     R3,A
   \   000033   8004         SJMP    ??findHexValue_5
    869            }
    870            return 0;
   \                     ??findHexValue_3:
   \   000035   7A00         MOV     R2,#0x0
   \   000037   7B00         MOV     R3,#0x0
   \                     ??findHexValue_5:
   \   000039   02....       LJMP    ??Subroutine28_0 & 0xFFFF
    871          }
    872          
    873          
    874          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    875          uint16 strToUint16(uint8* str)
   \                     strToUint16:
    876          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
    877              return findHexValue(str[0])*16*16*16 + findHexValue(str[1])*16*16 + findHexValue(str[2])*16 + findHexValue(str[3]);
   \   000009                ; Setup parameters for call to function findHexValue
   \   000009   8A82         MOV     DPL,R2
   \   00000B   8B83         MOV     DPH,R3
   \   00000D   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_87:
   \   000010   8A..         MOV     ?V0 + 4,R2
   \   000012   8B..         MOV     ?V0 + 5,R3
   \   000014                ; Setup parameters for call to function findHexValue
   \   000014   85..82       MOV     DPL,?V0 + 0
   \   000017   85..83       MOV     DPH,?V0 + 1
   \   00001A   12....       LCALL   ??Subroutine29_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_86:
   \   00001D   8A..         MOV     ?V0 + 2,R2
   \   00001F   AE..         MOV     R6,?V0 + 2
   \   000021                ; Setup parameters for call to function findHexValue
   \   000021   85..82       MOV     DPL,?V0 + 0
   \   000024   85..83       MOV     DPH,?V0 + 1
   \   000027   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_84:
   \   00002A   8A..         MOV     ?V0 + 2,R2
   \   00002C   8B..         MOV     ?V0 + 3,R3
   \   00002E   740C         MOV     A,#0xc
   \   000030   78..         MOV     R0,#?V0 + 4
   \   000032   12....       LCALL   ?S_SHL
   \   000035   EE           MOV     A,R6
   \   000036   FF           MOV     R7,A
   \   000037   E4           CLR     A
   \   000038   2400         ADD     A,#0x0
   \   00003A   E5..         MOV     A,?V0 + 5
   \   00003C   3F           ADDC    A,R7
   \   00003D   FB           MOV     R3,A
   \   00003E   7404         MOV     A,#0x4
   \   000040   78..         MOV     R0,#?V0 + 2
   \   000042   12....       LCALL   ?S_SHL
   \   000045   25..         ADD     A,?V0 + 2
   \   000047   FE           MOV     R6,A
   \   000048   EB           MOV     A,R3
   \   000049   35..         ADDC    A,?V0 + 3
   \   00004B   FF           MOV     R7,A
   \   00004C                ; Setup parameters for call to function findHexValue
   \   00004C   85..82       MOV     DPL,?V0 + 0
   \   00004F   85..83       MOV     DPH,?V0 + 1
   \   000052   A3           INC     DPTR
   \   000053   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_85:
   \   000056   8A..         MOV     ?V0 + 0,R2
   \   000058   8B..         MOV     ?V0 + 1,R3
   \   00005A   EE           MOV     A,R6
   \   00005B   25..         ADD     A,?V0 + 0
   \   00005D   FA           MOV     R2,A
   \   00005E   EF           MOV     A,R7
   \   00005F   35..         ADDC    A,?V0 + 1
   \   000061   FB           MOV     R3,A
   \   000062   7F08         MOV     R7,#0x8
   \   000064   02....       LJMP    ?BANKED_LEAVE_XDATA
    878          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine29_0
   \   000001                ; // Fall through to label ??Subroutine29_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine29_0:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine30_0
   \   000001                ; // Fall through to label ??Subroutine30_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine30_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F9           MOV     R1,A
   \   000002   12....       LCALL   ??findHexValue?relay
   \   000005   22           RET
    879          
    880          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    881          void sendSendCmdMsg(uint8* cmd)
   \                     sendSendCmdMsg:
    882          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV     A,#-0xc
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
    883            
    884            uint16 shortAddr = strToUint16(cmd);
   \   00000E                ; Setup parameters for call to function strToUint16
   \   00000E   12....       LCALL   ??strToUint16?relay
   \   000011   8A..         MOV     ?V0 + 2,R2
   \   000013   8B..         MOV     ?V0 + 3,R3
    885            cmd += 5;
   \   000015   E5..         MOV     A,?V0 + 0
   \   000017   2405         ADD     A,#0x5
   \   000019   F5..         MOV     ?V0 + 0,A
   \   00001B   E5..         MOV     A,?V0 + 1
   \   00001D   3400         ADDC    A,#0x0
   \   00001F   F5..         MOV     ?V0 + 1,A
    886            
    887            afAddrType_t P2P_DstAddr;
    888            P2P_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   000021   7408         MOV     A,#0x8
   \   000023   12....       LCALL   ?XSTACK_DISP0_8
   \   000026   7402         MOV     A,#0x2
   \   000028   F0           MOVX    @DPTR,A
    889            P2P_DstAddr.endPoint = GENERICAPP_ENDPOINT;
   \   000029   7409         MOV     A,#0x9
   \   00002B   12....       LCALL   ?XSTACK_DISP0_8
   \   00002E   740A         MOV     A,#0xa
   \   000030   12....       LCALL   ?Subroutine6 & 0xFFFF
    890            P2P_DstAddr.addr.shortAddr = shortAddr; //ÖÕ¶Ë¶ÌµØÖ·ÔÚLCDÉÏÓÐÏÔÊ¾£¬´Ë´¦»»³ÉÖÕ¶Ë¶ÌµØÖ·¾Í¿ÉÒÔµã²¥ÁË¡£
   \                     ??CrossCallReturnLabel_10:
   \   000033   EA           MOV     A,R2
   \   000034   F0           MOVX    @DPTR,A
   \   000035   A3           INC     DPTR
   \   000036   EB           MOV     A,R3
   \   000037   F0           MOVX    @DPTR,A
    891            
    892            printf("sendCmd: addr=%04X, cmd=%s\n", shortAddr, cmd);
   \   000038                ; Setup parameters for call to function printf
   \   000038   78..         MOV     R0,#?V0 + 0
   \   00003A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003D   78..         MOV     R0,#?V0 + 2
   \   00003F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000042   7A..         MOV     R2,#`?<Constant "sendCmd: addr=%04X, c...">` & 0xff
   \   000044   7B..         MOV     R3,#(`?<Constant "sendCmd: addr=%04X, c...">` >> 8) & 0xff
   \   000046   12....       LCALL   ??printf?relay
   \   000049   7404         MOV     A,#0x4
   \   00004B   12....       LCALL   ?DEALLOC_XSTACK8
    893            
    894            if ( AF_DataRequest( &P2P_DstAddr, &GenericApp_epDesc,
    895                                 GENERICAPP_CLUSTERID,
    896                                 osal_strlen((char*)cmd)+1,
    897                                 (uint8*)cmd,
    898                                 &GenericApp_TransID,
    899                                 AF_DISCV_ROUTE, AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   00004E                ; Setup parameters for call to function AF_DataRequest
   \   00004E   75..1E       MOV     ?V0 + 2,#0x1e
   \   000051   78..         MOV     R0,#?V0 + 2
   \   000053   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000056   75....       MOV     ?V0 + 2,#GenericApp_TransID & 0xff
   \   000059   75....       MOV     ?V0 + 3,#(GenericApp_TransID >> 8) & 0xff
   \   00005C   78..         MOV     R0,#?V0 + 2
   \   00005E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000061   78..         MOV     R0,#?V0 + 0
   \   000063   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000066                ; Setup parameters for call to function osal_strlen
   \   000066   AA..         MOV     R2,?V0 + 0
   \   000068   AB..         MOV     R3,?V0 + 1
   \   00006A   12....       LCALL   ??Subroutine22_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_63:
   \   00006D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000070   75..01       MOV     ?V0 + 0,#0x1
   \   000073   75..00       MOV     ?V0 + 1,#0x0
   \   000076   78..         MOV     R0,#?V0 + 0
   \   000078   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007B   7920         MOV     R1,#0x20
   \   00007D   7C..         MOV     R4,#GenericApp_epDesc & 0xff
   \   00007F   7D..         MOV     R5,#(GenericApp_epDesc >> 8) & 0xff
   \   000081   7409         MOV     A,#0x9
   \   000083   12....       LCALL   ?XSTACK_DISP0_8
   \   000086   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   000089   12....       LCALL   ?DEALLOC_XSTACK8
   \   00008C   E9           MOV     A,R1
   \   00008D   6007         JZ      ??sendSendCmdMsg_0
    900            {
    901              // Successfully requested to be sent.
    902            }
    903            else
    904            {
    905              printf("send ReportNames error\n");
   \   00008F                ; Setup parameters for call to function printf
   \   00008F   7A..         MOV     R2,#`?<Constant "send ReportNames error\\n">` & 0xff
   \   000091   7B..         MOV     R3,#(`?<Constant "send ReportNames error\\n">` >> 8) & 0xff
   \   000093   12....       LCALL   ??printf?relay
    906            }
    907          }
   \                     ??sendSendCmdMsg_0:
   \   000096   740C         MOV     A,#0xc
   \   000098   02....       LJMP    ??Subroutine23_0 & 0xFFFF
    908          
    909          
    910          #define MY_UART_BUF_SIZE 64
    911          #define MY_NAME_NV_ID 0x2701
    912          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    913          char myName[MY_UART_BUF_SIZE];
   \                     myName:
   \   000000                DS 64
   \   000040                REQUIRE __INIT_XDATA_Z
    914          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    915          static char* getMyName()
   \                     getMyName:
    916          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    917              if (osal_nv_read(MY_NAME_NV_ID, 0, MY_UART_BUF_SIZE, myName ) == ZSUCCESS) {
   \   000005                ; Setup parameters for call to function osal_nv_read
   \   000005   75....       MOV     ?V0 + 0,#myName & 0xff
   \   000008   75....       MOV     ?V0 + 1,#(myName >> 8) & 0xff
   \   00000B   78..         MOV     R0,#?V0 + 0
   \   00000D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000010   75..40       MOV     ?V0 + 0,#0x40
   \   000013   75..00       MOV     ?V0 + 1,#0x0
   \   000016   78..         MOV     R0,#?V0 + 0
   \   000018   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00001B   7C00         MOV     R4,#0x0
   \   00001D   7D00         MOV     R5,#0x0
   \   00001F   7A01         MOV     R2,#0x1
   \   000021   7B27         MOV     R3,#0x27
   \   000023   12....       LCALL   ??osal_nv_read?relay
   \   000026   7404         MOV     A,#0x4
   \   000028   12....       LCALL   ?DEALLOC_XSTACK8
   \   00002B   E9           MOV     A,R1
   \   00002C   6005         JZ      ??getMyName_0
    918                
    919              } else {
    920                myName[0] = 0; 
   \   00002E   90....       MOV     DPTR,#myName
   \   000031   E4           CLR     A
   \   000032   F0           MOVX    @DPTR,A
    921              }
    922              
    923              return myName;
   \                     ??getMyName_0:
   \   000033   7A..         MOV     R2,#myName & 0xff
   \   000035   7B..         MOV     R3,#(myName >> 8) & 0xff
   \   000037   02....       LJMP    ??Subroutine25_0 & 0xFFFF
    924          }
    925          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    926          static void processUartCB(uint8* buf, uint8 len)
   \                     processUartCB:
    927          {
   \   000000   74EE         MOV     A,#-0x12
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 18
   \   000005                ; Auto size: 64
   \   000005   74C0         MOV     A,#-0x40
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 4,R2
   \   00000C   8B..         MOV     ?V0 + 5,R3
   \   00000E   89..         MOV     ?V0 + 0,R1
    928            uint16 id;
    929            uint16 itemLen;
    930            //TODO disable overflow
    931            buf[len] = 0;
   \   000010   8982         MOV     DPL,R1
   \   000012   8582..       MOV     ?V0 + 8,DPL
   \   000015   75..00       MOV     ?V0 + 9,#0x0
   \   000018   EA           MOV     A,R2
   \   000019   25..         ADD     A,?V0 + 8
   \   00001B   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_35:
   \   00001E   E4           CLR     A
   \   00001F   F0           MOVX    @DPTR,A
    932            uint8 myBuf[MY_UART_BUF_SIZE];
    933            
    934            if (len >= MY_UART_BUF_SIZE || len < 1) {
   \   000020   74FF         MOV     A,#-0x1
   \   000022   25..         ADD     A,?V0 + 0
   \   000024   C3           CLR     C
   \   000025   943F         SUBB    A,#0x3f
   \   000027   400C         JC      ??processUartCB_0
    935              printf("invalid buf length: %d\n", len);
   \   000029                ; Setup parameters for call to function printf
   \   000029   78..         MOV     R0,#?V0 + 8
   \   00002B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002E   7A..         MOV     R2,#`?<Constant "invalid buf length: %d\\n">` & 0xff
   \   000030   7B..         MOV     R3,#(`?<Constant "invalid buf length: %d\\n">` >> 8) & 0xff
   \   000032   02....       LJMP    ??processUartCB_1 & 0xFFFF
    936              return; 
    937            }
    938            
    939            printf("processUartCB: %s\n", buf);
   \                     ??processUartCB_0:
   \   000035                ; Setup parameters for call to function printf
   \   000035   78..         MOV     R0,#?V0 + 4
   \   000037   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00003A   7A..         MOV     R2,#`?<Constant "processUartCB: %s\\n">` & 0xff
   \   00003C   7B..         MOV     R3,#(`?<Constant "processUartCB: %s\\n">` >> 8) & 0xff
   \   00003E   12....       LCALL   ??Subroutine21_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000041   12....       LCALL   ?DEALLOC_XSTACK8
    940            
    941            id = MY_NAME_NV_ID; // for name
    942            if (strStartWith(buf, "RNV Name")) {
   \   000044                ; Setup parameters for call to function strStartWith
   \   000044   7C..         MOV     R4,#`?<Constant "RNV Name">` & 0xff
   \   000046   7D..         MOV     R5,#(`?<Constant "RNV Name">` >> 8) & 0xff
   \   000048   AA..         MOV     R2,?V0 + 4
   \   00004A   AB..         MOV     R3,?V0 + 5
   \   00004C   12....       LCALL   ??Subroutine27_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_80:
   \   00004F   7003         JNZ     $+5
   \   000051   02....       LJMP    ??processUartCB_2 & 0xFFFF
    943              
    944              itemLen = osal_nv_item_len(id);
   \   000054                ; Setup parameters for call to function osal_nv_item_len
   \   000054   7A01         MOV     R2,#0x1
   \   000056   7B27         MOV     R3,#0x27
   \   000058   12....       LCALL   ??osal_nv_item_len?relay
   \   00005B   8A..         MOV     ?V0 + 2,R2
   \   00005D   8B..         MOV     ?V0 + 3,R3
    945              if (itemLen > MY_UART_BUF_SIZE || itemLen == 0) {
   \   00005F   C3           CLR     C
   \   000060   EA           MOV     A,R2
   \   000061   9441         SUBB    A,#0x41
   \   000063   EB           MOV     A,R3
   \   000064   9400         SUBB    A,#0x0
   \   000066   5005         JNC     ??processUartCB_3
   \   000068   EA           MOV     A,R2
   \   000069   45..         ORL     A,?V0 + 3
   \   00006B   700C         JNZ     ??processUartCB_4
    946                printf("invalid nv item len: %d\n", itemLen);
   \                     ??processUartCB_3:
   \   00006D                ; Setup parameters for call to function printf
   \   00006D   78..         MOV     R0,#?V0 + 2
   \   00006F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000072   7A..         MOV     R2,#`?<Constant "invalid nv item len: %d\\n">` & 0xff
   \   000074   7B..         MOV     R3,#(`?<Constant "invalid nv item len: %d\\n">` >> 8) & 0xff
   \   000076   02....       LJMP    ??processUartCB_1 & 0xFFFF
    947                return;
    948              }
    949              
    950              if (osal_nv_read(id, 0, itemLen, myBuf ) == ZSUCCESS) {
   \                     ??processUartCB_4:
   \   000079                ; Setup parameters for call to function osal_nv_read
   \   000079   85..82       MOV     DPL,?XSP + 0
   \   00007C   85..83       MOV     DPH,?XSP + 1
   \   00007F   8582..       MOV     ?V0 + 4,DPL
   \   000082   8583..       MOV     ?V0 + 5,DPH
   \   000085   78..         MOV     R0,#?V0 + 4
   \   000087   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00008A   78..         MOV     R0,#?V0 + 2
   \   00008C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00008F   7C00         MOV     R4,#0x0
   \   000091   7D00         MOV     R5,#0x0
   \   000093   7A01         MOV     R2,#0x1
   \   000095   7B27         MOV     R3,#0x27
   \   000097   12....       LCALL   ??osal_nv_read?relay
   \   00009A   7404         MOV     A,#0x4
   \   00009C   12....       LCALL   ?DEALLOC_XSTACK8
   \   00009F   E9           MOV     A,R1
   \   0000A0   6003         JZ      $+5
   \   0000A2   02....       LJMP    ??processUartCB_5 & 0xFFFF
    951                myBuf[itemLen-1] = 0;
   \   0000A5   85..82       MOV     DPL,?XSP + 0
   \   0000A8   85..83       MOV     DPH,?XSP + 1
   \   0000AB   E582         MOV     A,DPL
   \   0000AD   25..         ADD     A,?V0 + 2
   \   0000AF   F8           MOV     R0,A
   \   0000B0   E583         MOV     A,DPH
   \   0000B2   35..         ADDC    A,?V0 + 3
   \   0000B4   F9           MOV     R1,A
   \   0000B5   E8           MOV     A,R0
   \   0000B6   24FF         ADD     A,#-0x1
   \   0000B8   F582         MOV     DPL,A
   \   0000BA   E9           MOV     A,R1
   \   0000BB   34FF         ADDC    A,#-0x1
   \   0000BD   F583         MOV     DPH,A
   \   0000BF   E4           CLR     A
   \   0000C0   12....       LCALL   ?Subroutine6 & 0xFFFF
    952                printf("Name = %s\n", myBuf);
    953              }
    954              
    955            } else if (strStartWith(buf, "WNV Name ")) {
   \                     ??CrossCallReturnLabel_11:
   \   0000C3   8582..       MOV     ?V0 + 2,DPL
   \   0000C6   8583..       MOV     ?V0 + 3,DPH
   \   0000C9   78..         MOV     R0,#?V0 + 2
   \   0000CB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000CE   7A..         MOV     R2,#`?<Constant "Name = %s\\n">` & 0xff
   \   0000D0   7B..         MOV     R3,#(`?<Constant "Name = %s\\n">` >> 8) & 0xff
   \   0000D2   02....       LJMP    ??processUartCB_1 & 0xFFFF
   \                     ??processUartCB_2:
   \   0000D5                ; Setup parameters for call to function strStartWith
   \   0000D5   7C..         MOV     R4,#`?<Constant "WNV Name ">` & 0xff
   \   0000D7   7D..         MOV     R5,#(`?<Constant "WNV Name ">` >> 8) & 0xff
   \   0000D9   AA..         MOV     R2,?V0 + 4
   \   0000DB   AB..         MOV     R3,?V0 + 5
   \   0000DD   12....       LCALL   ??Subroutine27_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_81:
   \   0000E0   7003         JNZ     $+5
   \   0000E2   02....       LJMP    ??processUartCB_6 & 0xFFFF
    956              
    957              osal_memcpy(myBuf, buf,  len);
   \   0000E5                ; Setup parameters for call to function osal_memcpy
   \   0000E5   75..00       MOV     ?V0 + 6,#0x0
   \   0000E8   78..         MOV     R0,#?V0 + 4
   \   0000EA   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000ED   85....       MOV     ?V0 + 2,?V0 + 0
   \   0000F0   AC..         MOV     R4,?V0 + 2
   \   0000F2   7D00         MOV     R5,#0x0
   \   0000F4   7403         MOV     A,#0x3
   \   0000F6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F9   AA82         MOV     R2,DPL
   \   0000FB   AB83         MOV     R3,DPH
   \   0000FD   12....       LCALL   ??osal_memcpy?relay
   \   000100   7403         MOV     A,#0x3
   \   000102   12....       LCALL   ?DEALLOC_XSTACK8
    958              myBuf[len] = 0;
   \   000105   85..82       MOV     DPL,?XSP + 0
   \   000108   85..83       MOV     DPH,?XSP + 1
   \   00010B   E582         MOV     A,DPL
   \   00010D   25..         ADD     A,?V0 + 8
   \   00010F   F582         MOV     DPL,A
   \   000111   E583         MOV     A,DPH
   \   000113   3400         ADDC    A,#0x0
   \   000115   F583         MOV     DPH,A
   \   000117   E4           CLR     A
   \   000118   F0           MOVX    @DPTR,A
    959              osal_nv_item_init(id, MY_UART_BUF_SIZE, NULL);
   \   000119                ; Setup parameters for call to function osal_nv_item_init
   \   000119   F5..         MOV     ?V0 + 2,A
   \   00011B   F5..         MOV     ?V0 + 3,A
   \   00011D   78..         MOV     R0,#?V0 + 2
   \   00011F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000122   7C40         MOV     R4,#0x40
   \   000124   7D00         MOV     R5,#0x0
   \   000126   7A01         MOV     R2,#0x1
   \   000128   7B27         MOV     R3,#0x27
   \   00012A   12....       LCALL   ??osal_nv_item_init?relay
   \   00012D   7402         MOV     A,#0x2
   \   00012F   12....       LCALL   ?DEALLOC_XSTACK8
    960              osal_nv_write(id, 0, len-8, myBuf+9);
   \   000132                ; Setup parameters for call to function osal_nv_write
   \   000132   7409         MOV     A,#0x9
   \   000134   12....       LCALL   ?XSTACK_DISP0_8
   \   000137   8582..       MOV     ?V0 + 2,DPL
   \   00013A   8583..       MOV     ?V0 + 3,DPH
   \   00013D   78..         MOV     R0,#?V0 + 2
   \   00013F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000142   E5..         MOV     A,?V0 + 8
   \   000144   24F8         ADD     A,#-0x8
   \   000146   F5..         MOV     ?V0 + 2,A
   \   000148   E4           CLR     A
   \   000149   34FF         ADDC    A,#-0x1
   \   00014B   F5..         MOV     ?V0 + 3,A
   \   00014D   78..         MOV     R0,#?V0 + 2
   \   00014F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000152   7C00         MOV     R4,#0x0
   \   000154   7D00         MOV     R5,#0x0
   \   000156   7A01         MOV     R2,#0x1
   \   000158   7B27         MOV     R3,#0x27
   \   00015A   12....       LCALL   ??osal_nv_write?relay
   \   00015D   7404         MOV     A,#0x4
   \   00015F   12....       LCALL   ?DEALLOC_XSTACK8
    961              printf("receive cmd: %s\n", myBuf);
   \   000162                ; Setup parameters for call to function printf
   \   000162   85..82       MOV     DPL,?XSP + 0
   \   000165   85..83       MOV     DPH,?XSP + 1
   \   000168   8582..       MOV     ?V0 + 2,DPL
   \   00016B   8583..       MOV     ?V0 + 3,DPH
   \   00016E   78..         MOV     R0,#?V0 + 2
   \   000170   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000173   7A..         MOV     R2,#`?<Constant "receive cmd: %s\\n">` & 0xff
   \   000175   7B..         MOV     R3,#(`?<Constant "receive cmd: %s\\n">` >> 8) & 0xff
   \   000177   8043         SJMP    ??processUartCB_1
    962            } else if (strStartWith(buf, "ReportNames")) {
   \                     ??processUartCB_6:
   \   000179                ; Setup parameters for call to function strStartWith
   \   000179   7C..         MOV     R4,#`?<Constant "ReportNames">` & 0xff
   \   00017B   7D..         MOV     R5,#(`?<Constant "ReportNames">` >> 8) & 0xff
   \   00017D   AA..         MOV     R2,?V0 + 4
   \   00017F   AB..         MOV     R3,?V0 + 5
   \   000181   12....       LCALL   ??Subroutine27_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_82:
   \   000184   6005         JZ      ??processUartCB_7
    963              
    964              sendReportNamesMsg();
   \   000186                ; Setup parameters for call to function sendReportNamesMsg
   \   000186   12....       LCALL   ??sendReportNamesMsg?relay
   \   000189   8037         SJMP    ??processUartCB_5
    965            } else  if (strStartWith(buf, "sendCmd ")) {
   \                     ??processUartCB_7:
   \   00018B                ; Setup parameters for call to function strStartWith
   \   00018B   7C..         MOV     R4,#`?<Constant "sendCmd ">` & 0xff
   \   00018D   7D..         MOV     R5,#(`?<Constant "sendCmd ">` >> 8) & 0xff
   \   00018F   AA..         MOV     R2,?V0 + 4
   \   000191   AB..         MOV     R3,?V0 + 5
   \   000193   12....       LCALL   ??Subroutine27_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_83:
   \   000196   600F         JZ      ??processUartCB_8
    966              sendSendCmdMsg(buf + 8);
   \   000198                ; Setup parameters for call to function sendSendCmdMsg
   \   000198   E5..         MOV     A,?V0 + 4
   \   00019A   2408         ADD     A,#0x8
   \   00019C   FA           MOV     R2,A
   \   00019D   E5..         MOV     A,?V0 + 5
   \   00019F   3400         ADDC    A,#0x0
   \   0001A1   FB           MOV     R3,A
   \   0001A2   12....       LCALL   ??sendSendCmdMsg?relay
   \   0001A5   801B         SJMP    ??processUartCB_5
    967            } else {
    968              buf[len-1] = 0;
   \                     ??processUartCB_8:
   \   0001A7   EE           MOV     A,R6
   \   0001A8   24FF         ADD     A,#-0x1
   \   0001AA   F582         MOV     DPL,A
   \   0001AC   EF           MOV     A,R7
   \   0001AD   34FF         ADDC    A,#-0x1
   \   0001AF   F583         MOV     DPH,A
   \   0001B1   E4           CLR     A
   \   0001B2   F0           MOVX    @DPTR,A
    969              printf("unkown cmd: %s\n", buf); 
   \   0001B3                ; Setup parameters for call to function printf
   \   0001B3   78..         MOV     R0,#?V0 + 4
   \   0001B5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001B8   7A..         MOV     R2,#`?<Constant "unkown cmd: %s\\n">` & 0xff
   \   0001BA   7B..         MOV     R3,#(`?<Constant "unkown cmd: %s\\n">` >> 8) & 0xff
    970              
    971            }
   \                     ??processUartCB_1:
   \   0001BC   12....       LCALL   ??Subroutine21_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   0001BF   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??processUartCB_5:
   \   0001C2   7440         MOV     A,#0x40
   \   0001C4   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001C7   7F0A         MOV     R7,#0xa
   \   0001C9   02....       LJMP    ?BANKED_LEAVE_XDATA
    972          }
    973          
    974          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    975          static void rxCB(uint8 port,uint8 event)
   \                     rxCB:
    976          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
    977            if ((event & (HAL_UART_RX_FULL | HAL_UART_RX_ABOUT_FULL | HAL_UART_RX_TIMEOUT)) &&
    978          #if SERIAL_APP_LOOPBACK
    979                (SerialApp_TxLen < SERIAL_APP_TX_MAX))
    980          #else
    981                !SerialApp_TxLen)
   \   000007   7407         MOV     A,#0x7
   \   000009   5E           ANL     A,R6
   \   00000A   6027         JZ      ??rxCB_0
   \   00000C   90....       MOV     DPTR,#SerialApp_TxLen
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   7021         JNZ     ??rxCB_0
    982          #endif
    983            {
    984              SerialApp_TxLen = HalUARTRead(0, RxBuf, SERIAL_APP_TX_MAX);
   \   000012                ; Setup parameters for call to function HalUARTRead
   \   000012   7C50         MOV     R4,#0x50
   \   000014   7D00         MOV     R5,#0x0
   \   000016   7A..         MOV     R2,#RxBuf & 0xff
   \   000018   7B..         MOV     R3,#(RxBuf >> 8) & 0xff
   \   00001A   7900         MOV     R1,#0x0
   \   00001C   12....       LCALL   ??HalUARTRead?relay
   \   00001F   EA           MOV     A,R2
   \   000020   90....       MOV     DPTR,#SerialApp_TxLen
   \   000023   F0           MOVX    @DPTR,A
    985              if (SerialApp_TxLen)
   \   000024   600D         JZ      ??rxCB_0
    986              {
    987                
    988                processUartCB(RxBuf, SerialApp_TxLen);
   \   000026                ; Setup parameters for call to function processUartCB
   \   000026   F9           MOV     R1,A
   \   000027   7A..         MOV     R2,#RxBuf & 0xff
   \   000029   7B..         MOV     R3,#(RxBuf >> 8) & 0xff
   \   00002B   12....       LCALL   ??processUartCB?relay
    989                  
    990                //HalUARTWrite(0, RxBuf, SerialApp_TxLen);
    991                //GenericApp_SendTheMessage();
    992                
    993                SerialApp_TxLen=0;
   \   00002E   90....       MOV     DPTR,#SerialApp_TxLen
   \   000031   E4           CLR     A
   \   000032   F0           MOVX    @DPTR,A
    994              }
    995            }
    996          }
   \                     ??rxCB_0:
   \   000033   7F01         MOV     R7,#0x1
   \   000035   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for lightShortAddr>`:
   \   000000   6A04         DW 1130

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processLightToggle?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processLightToggle

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processLightOn?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processLightOn

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processLightOffLater?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processLightOffLater

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processLightOff?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processLightOff

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processReportNames?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processReportNames

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_ProcessZDOMsgs?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_ProcessZDOMsgs

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??turnOffLightLater?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    turnOffLightLater

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??turnOnLight?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    turnOnLight

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_HandleKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??strStartWith?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    strStartWith

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GenericApp_SendTheMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GenericApp_SendTheMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??sendReportNamesMsg?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    sendReportNamesMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??findHexValue?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    findHexValue

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??strToUint16?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    strToUint16

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??sendSendCmdMsg?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    sendSendCmdMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??getMyName?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    getMyName

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??processUartCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processUartCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??rxCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    rxCB

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "GenericApp">`:
   \   000000   47656E65     DB "GenericApp"
   \            72696341
   \            707000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DoorSensor">`:
   \   000000   446F6F72     DB "DoorSensor"
   \            53656E73
   \            6F7200  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "RestroomSensor">`:
   \   000000   52657374     DB "RestroomSensor"
   \            726F6F6D
   \            53656E73
   \            6F7200  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "GenericApp_Init[%s] D...">`:
   \   000000   47656E65     DB "GenericApp_Init[%s] Done!\012"
   \            72696341
   \            70705F49
   \            6E69745B
   \            25735D20
   \            446F6E65
   \            210A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Addr=%04X, ParentAddr...">`:
   \   000000   41646472     DB "Addr=%04X, ParentAddr=%04X\012"
   \            3D253034
   \            582C2050
   \            6172656E
   \            74416464
   \            723D2530
   \            34580A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "current : %d, LightOf...">`:
   \   000000   63757272     DB "current : %d, LightOffTimeValue: %d\012"
   \            656E7420
   \            3A202564
   \            2C204C69
   \            6768744F
   \            66665469
   \            6D655661
   \            6C75653A
   \            2025640A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightToggleResp %s %0...">`:
   \   000000   4C696768     DB "LightToggleResp %s %04X %04X"
   \            74546F67
   \            676C6552
   \            65737020
   \            25732025
   \            30345820
   \            25303458
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "send ReportNamesResp ...">`:
   \   000000   73656E64     DB "send ReportNamesResp error %s\012"
   \            20526570
   \            6F72744E
   \            616D6573
   \            52657370
   \            20657272
   \            6F722025
   \            730A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOnResp %s %04X %04X">`:
   \   000000   4C696768     DB "LightOnResp %s %04X %04X"
   \            744F6E52
   \            65737020
   \            25732025
   \            30345820
   \            25303458
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOffLaterResp %s ...">`:
   \   000000   4C696768     DB "LightOffLaterResp %s %04X %04X"
   \            744F6666
   \            4C617465
   \            72526573
   \            70202573
   \            20253034
   \            58202530
   \            345800  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOffLater ">`:
   \   000000   4C696768     DB "LightOffLater "
   \            744F6666
   \            4C617465
   \            722000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "plusTime %d, LightOff...">`:
   \   000000   706C7573     DB 70H, 6CH, 75H, 73H, 54H, 69H, 6DH, 65H
   \            54696D65
   \   000008   2025642C     DB 20H, 25H, 64H, 2CH, 20H, 4CH, 69H, 67H
   \            204C6967
   \   000010   68744F66     DB 68H, 74H, 4FH, 66H, 66H, 54H, 69H, 6DH
   \            6654696D
   \   000018   6556616C     DB 65H, 56H, 61H, 6CH, 75H, 65H, 3AH, 20H
   \            75653A20
   \   000020   25642C20     DB 25H, 64H, 2CH, 20H, 63H, 75H, 72H, 72H
   \            63757272
   \   000028   656E7454     DB 65H, 6EH, 74H, 54H, 69H, 6DH, 65H, 3DH
   \            696D653D
   \   000030   25640A00     DB 25H, 64H, 0AH, 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOffResp %s %04X ...">`:
   \   000000   4C696768     DB "LightOffResp %s %04X %04X"
   \            744F6666
   \            52657370
   \            20257320
   \            25303458
   \            20253034
   \            5800    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ReportNamesResp %s %0...">`:
   \   000000   5265706F     DB "ReportNamesResp %s %04X %04X"
   \            72744E61
   \            6D657352
   \            65737020
   \            25732025
   \            30345820
   \            25303458
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%04X LightOffLater 0040">`:
   \   000000   25303458     DB "%04X LightOffLater 0040"
   \            204C6967
   \            68744F66
   \            664C6174
   \            65722030
   \            30343000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%04X LightOn">`:
   \   000000   25303458     DB "%04X LightOn"
   \            204C6967
   \            68744F6E
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "S1 pressed\\n">`:
   \   000000   53312070     DB "S1 pressed\012"
   \            72657373
   \            65640A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "S2 pressed\\n">`:
   \   000000   53322070     DB "S2 pressed\012"
   \            72657373
   \            65640A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DataLow pressed\\n">`:
   \   000000   44617461     DB "DataLow pressed\012"
   \            4C6F7720
   \            70726573
   \            7365640A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "DataHigh pressed\\n">`:
   \   000000   44617461     DB "DataHigh pressed\012"
   \            48696768
   \            20707265
   \            73736564
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "process Cmd: %s\\n">`:
   \   000000   70726F63     DB "process Cmd: %s\012"
   \            65737320
   \            436D643A
   \            2025730A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ReportNamesResp">`:
   \   000000   5265706F     DB "ReportNamesResp"
   \            72744E61
   \            6D657352
   \            65737000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ReportNames">`:
   \   000000   5265706F     DB "ReportNames"
   \            72744E61
   \            6D657300

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOnResp">`:
   \   000000   4C696768     DB "LightOnResp"
   \            744F6E52
   \            65737000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOn">`:
   \   000000   4C696768     DB "LightOn"
   \            744F6E00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOffLaterResp">`:
   \   000000   4C696768     DB "LightOffLaterResp"
   \            744F6666
   \            4C617465
   \            72526573
   \            7000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOffLater">`:
   \   000000   4C696768     DB "LightOffLater"
   \            744F6666
   \            4C617465
   \            7200    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightToggleResp">`:
   \   000000   4C696768     DB "LightToggleResp"
   \            74546F67
   \            676C6552
   \            65737000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightToggle">`:
   \   000000   4C696768     DB "LightToggle"
   \            74546F67
   \            676C6500

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOffResp">`:
   \   000000   4C696768     DB "LightOffResp"
   \            744F6666
   \            52657370
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "LightOff">`:
   \   000000   4C696768     DB "LightOff"
   \            744F6666
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ReportNames">_1`:
   \   000000   5265706F     DB "ReportNames"
   \            72744E61
   \            6D657300

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "send ReportNames error\\n">`:
   \   000000   73656E64     DB "send ReportNames error\012"
   \            20526570
   \            6F72744E
   \            616D6573
   \            20657272
   \            6F720A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "sendCmd: addr=%04X, c...">`:
   \   000000   73656E64     DB "sendCmd: addr=%04X, cmd=%s\012"
   \            436D643A
   \            20616464
   \            723D2530
   \            34582C20
   \            636D643D
   \            25730A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "invalid buf length: %d\\n">`:
   \   000000   696E7661     DB "invalid buf length: %d\012"
   \            6C696420
   \            62756620
   \            6C656E67
   \            74683A20
   \            25640A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "processUartCB: %s\\n">`:
   \   000000   70726F63     DB "processUartCB: %s\012"
   \            65737355
   \            61727443
   \            423A2025
   \            730A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "RNV Name">`:
   \   000000   524E5620     DB "RNV Name"
   \            4E616D65
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "invalid nv item len: %d\\n">`:
   \   000000   696E7661     DB "invalid nv item len: %d\012"
   \            6C696420
   \            6E762069
   \            74656D20
   \            6C656E3A
   \            2025640A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Name = %s\\n">`:
   \   000000   4E616D65     DB "Name = %s\012"
   \            203D2025
   \            730A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "WNV Name ">`:
   \   000000   574E5620     DB "WNV Name "
   \            4E616D65
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "receive cmd: %s\\n">`:
   \   000000   72656365     DB "receive cmd: %s\012"
   \            69766520
   \            636D643A
   \            2025730A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "sendCmd ">`:
   \   000000   73656E64     DB "sendCmd "
   \            436D6420
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "unkown cmd: %s\\n">`:
   \   000000   756E6B6F     DB "unkown cmd: %s\012"
   \            776E2063
   \            6D643A20
   \            25730A00
    997          /*********************************************************************
    998          *********************************************************************/

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     GenericApp_HandleKeys              0      0     27
       -> printf                        0      0     26
       -> printf                        0      0     26
       -> getMyName                     0      0     26
       -> printf                        0      0     26
       -> strStartWith                  0      0     26
       -> turnOffLightLater             0      0     26
       -> strStartWith                  0      0     26
       -> turnOnLight                   0      0     26
       -> printf                        0      0     26
       -> strStartWith                  0      0     26
       -> turnOnLight                   0      0     26
       -> strStartWith                  0      0     26
       -> turnOffLightLater             0      0     26
     GenericApp_Init                    0      0     43
       -> afRegister                    0      0     82
       -> RegisterForKeys               0      0     82
       -> HalUARTOpen                   0      0     82
       -> HalLcdWriteString             0      0     82
       -> HalLedSet                     0      0     82
       -> getMyName                     0      0     82
       -> strStartWith                  0      0     82
       -> getMyName                     0      0     82
       -> strStartWith                  0      0     82
       -> getMyName                     0      0     82
       -> printf                        0      0     86
     GenericApp_MessageMSGCB            0      0     26
       -> printf                        0      0     24
       -> strStartWith                  0      0     20
       -> strStartWith                  0      0     20
       -> processReportNames            0      0     20
       -> strStartWith                  0      0     20
       -> strStartWith                  0      0     20
       -> processLightOn                0      0     20
       -> strStartWith                  0      0     20
       -> strStartWith                  0      0     20
       -> processLightOffLater          0      0     20
       -> strStartWith                  0      0     20
       -> strStartWith                  0      0     20
       -> processLightToggle            0      0     20
       -> strStartWith                  0      0     20
       -> strStartWith                  0      0     20
       -> processLightOff               0      0     20
     GenericApp_ProcessEvent            2      0     18
       -> osal_msg_receive              0      0     28
       -> HalLedSet                     0      0     28
       -> NLME_GetShortAddr             0      0     28
       -> NLME_GetCoordShortAddr        0      0     28
       -> printf                        0      0     36
       -> osal_start_timerEx            0      0     28
       -> osal_msg_deallocate           0      0     28
       -> osal_msg_receive              0      0     28
       -> GenericApp_ProcessZDOMsgs     0      0     28
       -> GenericApp_HandleKeys         0      0     28
       -> GenericApp_MessageMSGCB       0      0     28
       -> GenericApp_SendTheMessage     0      0     28
       -> osal_start_timerEx            0      0     28
       -> printf                        0      0     36
       -> HalLedSet                     0      0     28
       -> osal_start_timerEx            0      0     28
     GenericApp_ProcessZDOMsgs          0      0     24
       -> HalLedSet                     0      0     20
       -> HalLedSet                     0      0     20
       -> ZDO_ParseEPListRsp            0      0     20
       -> HalLedSet                     0      0     20
       -> osal_mem_free                 0      0     20
     GenericApp_SendTheMessage          0      0     45
       -> AF_DataRequest                0      0     62
     findHexValue                       2      0     16
     getMyName                          0      0     92
       -> osal_nv_read                  0      0     28
     processLightOff                    0      0     93
       -> NLME_GetShortAddr             0      0    148
       -> NLME_GetCoordShortAddr        0      0    148
       -> getMyName                     0      0    156
       -> sprintf                       0      0    160
       -> HalLedSet                     0      0    148
       -> osal_strlen                   0      0    158
       -> AF_DataRequest                0      0    166
       -> printf                        0      0    152
     processLightOffLater               0      0     93
       -> NLME_GetShortAddr             0      0    148
       -> NLME_GetCoordShortAddr        0      0    148
       -> getMyName                     0      0    156
       -> sprintf                       0      0    160
       -> osal_strlen                   0      0    148
       -> strToUint16                   0      0    148
       -> printf                        0      0    160
       -> osal_strlen                   0      0    158
       -> AF_DataRequest                0      0    166
       -> printf                        0      0    152
     processLightOn                     0      0     93
       -> NLME_GetShortAddr             0      0    148
       -> NLME_GetCoordShortAddr        0      0    148
       -> getMyName                     0      0    156
       -> sprintf                       0      0    160
       -> HalLedSet                     0      0    148
       -> osal_strlen                   0      0    158
       -> AF_DataRequest                0      0    166
       -> printf                        0      0    152
     processLightToggle                 0      0     93
       -> NLME_GetShortAddr             0      0    148
       -> NLME_GetCoordShortAddr        0      0    148
       -> getMyName                     0      0    156
       -> sprintf                       0      0    160
       -> HalLedSet                     0      0    148
       -> osal_strlen                   0      0    158
       -> AF_DataRequest                0      0    166
       -> printf                        0      0    152
     processReportNames                 0      0     93
       -> NLME_GetShortAddr             0      0    148
       -> NLME_GetCoordShortAddr        0      0    148
       -> getMyName                     0      0    156
       -> sprintf                       0      0    160
       -> osal_strlen                   0      0    158
       -> AF_DataRequest                0      0    166
       -> printf                        0      0    152
     processUartCB                      0      0     95
       -> printf                        0      0    168
       -> printf                        0      0    168
       -> strStartWith                  0      0    164
       -> osal_nv_item_len              0      0    164
       -> printf                        0      0    168
       -> osal_nv_read                  0      0    172
       -> printf                        0      0    168
       -> strStartWith                  0      0    164
       -> osal_memcpy                   0      0    170
       -> osal_nv_item_init             0      0    168
       -> osal_nv_write                 0      0    172
       -> printf                        0      0    168
       -> strStartWith                  0      0    164
       -> sendReportNamesMsg            0      0    164
       -> strStartWith                  0      0    164
       -> sendSendCmdMsg                0      0    164
       -> printf                        0      0    168
     rxCB                               0      0      9
       -> HalUARTRead                   0      0     18
       -> processUartCB                 0      0     18
     sendReportNamesMsg                 2      0    125
       -> osal_strlen                   0      0     78
       -> AF_DataRequest                0      0     86
       -> printf                        0      0     68
     sendSendCmdMsg                     0      0    117
       -> strToUint16                   0      0     52
       -> printf                        0      0     60
       -> osal_strlen                   0      0     62
       -> AF_DataRequest                0      0     70
       -> printf                        0      0     52
     strStartWith                       2      0     82
     strToUint16                        0      0     90
       -> findHexValue                  0      0     32
       -> findHexValue                  0      0     32
       -> findHexValue                  0      0     32
       -> findHexValue                  0      0     32
     turnOffLightLater                  2      0     63
       -> sprintf                       4      0    100
       -> sendSendCmdMsg                4      0     96
     turnOnLight                        2      0     63
       -> sprintf                       4      0    100
       -> sendSendCmdMsg                4      0     96


   Segment part sizes:

     Function/Label                          Bytes
     --------------                          -----
     lightShortAddr                             2
     lightOffTimeValue                          2
     currentTime                                2
     isLightController                          1
     GenericApp_ClusterList                     2
     GenericApp_SimpleDesc                     12
     GenericApp_epDesc                          6
     GenericApp_TaskID                          1
     GenericApp_NwkState                        1
     GenericApp_TransID                         1
     GenericApp_DstAddr                        12
     RxBuf                                     81
     SerialApp_TxLen                            1
     GenericApp_Init                          279
     ??Subroutine21_0                           6
     ??Subroutine27_0                           5
     ?Subroutine6                               8
     GenericApp_ProcessEvent                  298
     ?Subroutine11                              6
     ??Subroutine20_0                          11
     ?Subroutine18                             19
     ?Subroutine10                              6
     ??Subroutine24_0                           5
     processLightToggle                       160
     ?Subroutine14                              4
     ?Subroutine4                               9
     ?Subroutine17                             10
     ?Subroutine13                             21
     ?Subroutine12                              4
     ??Subroutine22_0                          16
     ?Subroutine7                              10
     ?Subroutine3                              24
     ?Subroutine0                               2
     ??Subroutine23_0                           3
     ?Subroutine15                             10
     ?Subroutine19                             10
     processLightOn                           160
     processLightOffLater                     251
     processLightOff                          164
     processReportNames                       160
     GenericApp_ProcessZDOMsgs                148
     ??Subroutine25_0                           5
     turnOffLightLater                         22
     ?Subroutine2                              35
     ??Subroutine28_0                           7
     turnOnLight                               22
     GenericApp_HandleKeys                    126
     ?Subroutine8                               7
     ??Subroutine26_0                           4
     strStartWith                              44
     GenericApp_MessageMSGCB                  193
     ?Subroutine16                             14
     ?Subroutine1                               3
     GenericApp_SendTheMessage                 94
     ?Subroutine5                              15
     sendReportNamesMsg                       135
     findHexValue                              60
     strToUint16                              103
     ?Subroutine9                               1
     ??Subroutine29_0                           1
     ??Subroutine30_0                           6
     sendSendCmdMsg                           155
     myName                                    64
     getMyName                                 58
     processUartCB                            460
     rxCB                                      56
     ?<Initializer for lightShortAddr>          2
     ??GenericApp_Init?relay                    6
     ??GenericApp_ProcessEvent?relay            6
     ??processLightToggle?relay                 6
     ??processLightOn?relay                     6
     ??processLightOffLater?relay               6
     ??processLightOff?relay                    6
     ??processReportNames?relay                 6
     ??GenericApp_ProcessZDOMsgs?relay          6
     ??turnOffLightLater?relay                  6
     ??turnOnLight?relay                        6
     ??GenericApp_HandleKeys?relay              6
     ??strStartWith?relay                       6
     ??GenericApp_MessageMSGCB?relay            6
     ??GenericApp_SendTheMessage?relay          6
     ??sendReportNamesMsg?relay                 6
     ??findHexValue?relay                       6
     ??strToUint16?relay                        6
     ??sendSendCmdMsg?relay                     6
     ??getMyName?relay                          6
     ??processUartCB?relay                      6
     ??rxCB?relay                               6
     ?<Constant "GenericApp">                  11
     ?<Constant "DoorSensor">                  11
     ?<Constant "RestroomSensor">              15
     ?<Constant "GenericApp_Init[%s] D...">    27
     ?<Constant "Addr=%04X, ParentAddr...">    28
     ?<Constant "current : %d, LightOf...">    37
     ?<Constant "LightToggleResp %s %0...">    29
     ?<Constant "send ReportNamesResp ...">    31
     ?<Constant "LightOnResp %s %04X %04X">    25
     ?<Constant "LightOffLaterResp %s ...">    31
     ?<Constant "LightOffLater ">              15
     ?<Constant "plusTime %d, LightOff...">    52
     ?<Constant "LightOffResp %s %04X ...">    26
     ?<Constant "ReportNamesResp %s %0...">    29
     ?<Constant "%04X LightOffLater 0040">     24
     ?<Constant "%04X LightOn">                13
     ?<Constant "S1 pressed\n">                12
     ?<Constant "S2 pressed\n">                12
     ?<Constant "DataLow pressed\n">           17
     ?<Constant "DataHigh pressed\n">          18
     ?<Constant "process Cmd: %s\n">           17
     ?<Constant "ReportNamesResp">             16
     ?<Constant "ReportNames">                 12
     ?<Constant "LightOnResp">                 12
     ?<Constant "LightOn">                      8
     ?<Constant "LightOffLaterResp">           18
     ?<Constant "LightOffLater">               14
     ?<Constant "LightToggleResp">             16
     ?<Constant "LightToggle">                 12
     ?<Constant "LightOffResp">                13
     ?<Constant "LightOff">                     9
     ?<Constant "ReportNames">_1               12
     ?<Constant "send ReportNames error\n">    24
     ?<Constant "sendCmd: addr=%04X, c...">    28
     ?<Constant "invalid buf length: %d\n">    24
     ?<Constant "processUartCB: %s\n">         19
     ?<Constant "RNV Name">                     9
     ?<Constant "invalid nv item len: %d\n">   25
     ?<Constant "Name = %s\n">                 11
     ?<Constant "WNV Name ">                   10
     ?<Constant "receive cmd: %s\n">           17
     ?<Constant "sendCmd ">                     9
     ?<Constant "unkown cmd: %s\n">            16

 
 3 435 bytes in segment BANKED_CODE
   126 bytes in segment BANK_RELAYS
     2 bytes in segment XDATA_I
     2 bytes in segment XDATA_ID
   828 bytes in segment XDATA_ROM_C
   172 bytes in segment XDATA_Z
 
 3 563 bytes of CODE  memory
   828 bytes of CONST memory
   174 bytes of XDATA memory

Errors: none
Warnings: none
